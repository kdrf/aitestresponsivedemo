<!DOCTYPE html>
<html lang="az">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Test Maker</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      color: #1e293b;
      background: linear-gradient(160deg, #f8fafc 0%, #f0f4fa 50%, #fef7ed 100%);
      background-attachment: fixed;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    .view {
      display: none;
      width: 100%;
    }

    #landing {
      width: 100%;
    }

    @keyframes viewEnter {
      from {
        opacity: 0;
        transform: translateY(10px) scale(0.99);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .view.active-view {
      display: block !important;
      animation: viewEnter 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    @keyframes slideUpFade {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .landing-nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(226, 232, 240, 0.8);
      padding: 16px 24px;
    }

    .landing-nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      font-size: 20px;
      font-weight: 700;
      color: #1a2d4a;
    }

    .logo span {
      color: #2563eb;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
    }

    .btn-nav {
      padding: 10px 20px;
      font-size: 15px;
      font-weight: 600;
      font-family: inherit;
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .btn-nav.outline {
      color: #2563eb;
      border: 2px solid #2563eb;
      background: transparent;
    }

    .btn-nav.outline:hover {
      background: #2563eb;
      color: white;
    }

    .btn-nav.fill {
      color: white;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      border: none;
      box-shadow: 0 4px 14px rgba(37, 99, 235, 0.35);
    }

    .btn-nav.fill:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
    }

    .hero {
      padding: 80px 24px 100px;
      text-align: center;
    }

    .hero-inner {
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-badge {
      display: inline-block;
      padding: 8px 16px;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(249, 115, 22, 0.15));
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      color: #1e40af;
      margin-bottom: 24px;
    }

    .hero h1 {
      font-size: clamp(36px, 6vw, 56px);
      font-weight: 700;
      color: #0f172a;
      line-height: 1.2;
      letter-spacing: -0.03em;
      margin-bottom: 24px;
    }

    .hero h1 span {
      color: #2563eb;
    }

    .hero p {
      font-size: 18px;
      color: #64748b;
      line-height: 1.7;
      margin-bottom: 40px;
    }

    .hero-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
    }

    .btn-hero {
      padding: 16px 32px;
      font-size: 17px;
      font-weight: 600;
      font-family: inherit;
      border-radius: 14px;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
    }

    .btn-hero.blue {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      box-shadow: 0 4px 20px rgba(37, 99, 235, 0.4);
    }

    .btn-hero.blue:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 28px rgba(37, 99, 235, 0.45);
    }

    .btn-hero.outline-blue {
      background: transparent;
      color: #2563eb;
      border: 2px solid #2563eb;
      box-shadow: none;
    }

    .btn-hero.outline-blue:hover {
      background: rgba(37, 99, 235, 0.05);
      transform: translateY(-3px);
    }

    .btn-hero.orange {
      background: linear-gradient(135deg, #f97316, #ea580c);
      color: white;
      box-shadow: 0 4px 20px rgba(249, 115, 22, 0.4);
    }

    .btn-hero.orange:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 28px rgba(249, 115, 22, 0.45);
    }

    .section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 80px 24px;
    }

    .section-header {
      text-align: center;
      margin-bottom: 56px;
    }

    .section-header h2 {
      font-size: clamp(28px, 4vw, 40px);
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 16px;
      letter-spacing: -0.02em;
    }

    .section-header p {
      font-size: 18px;
      color: #64748b;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .teacher-section {
      background: transparent;
    }

    .student-section {
      background: transparent;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
    }

    .feature-card {
      background: white;
      border-radius: 20px;
      padding: 32px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
      border: 1px solid rgba(226, 232, 240, 0.8);
      transition: transform 0.2s, box-shadow 0.2s;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
    }

    .feature-card.blue {
      border-top: none;
      border-left: 4px solid #2563eb;
    }

    .feature-card.orange {
      border-top: none;
      border-left: 4px solid #ea580c;
    }

    .feature-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 20px;
    }

    .feature-icon svg {
      width: 24px;
      height: 24px;
      stroke-width: 2.5px;
    }

    .feature-card.blue .feature-icon {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.15));
      color: #2563eb;
    }

    .feature-card.orange .feature-icon {
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.2), rgba(234, 88, 12, 0.15));
      color: #ea580c;
    }

    .feature-card h3 {
      font-size: 20px;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 12px;
    }

    .feature-card p {
      font-size: 15px;
      color: #64748b;
      line-height: 1.6;
    }

    .cta-section {
      text-align: center;
      padding: 100px 24px;
    }

    .cta-box {
      max-width: 700px;
      margin: 0 auto;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      border-radius: 28px;
      padding: 56px;
      color: white;
      box-shadow: 0 24px 64px rgba(37, 99, 235, 0.35);
    }

    .cta-box h2 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 16px;
      letter-spacing: -0.02em;
    }

    .cta-box p {
      font-size: 18px;
      opacity: 0.95;
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .cta-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
    }

    .btn-cta {
      padding: 16px 32px;
      font-size: 16px;
      font-weight: 600;
      font-family: inherit;
      border-radius: 12px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .btn-cta.white {
      background: white;
      color: #2563eb;
    }

    .btn-cta.white:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    }

    .btn-cta.outline {
      background: transparent;
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.8);
    }

    .btn-cta.outline:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    .landing-footer {
      text-align: center;
      padding: 40px 24px;
      color: #94a3b8;
      font-size: 14px;
    }

    /* --- Auth Pages Redesign --- */
    .view#login,
    .view#signup {
      padding: 0;
      background: #f8fafc;
      overflow: hidden;
    }

    .auth-wrapper {
      display: flex;
      min-height: 100vh;
      width: 100%;
    }

    .auth-side-decor {
      flex: 1;
      background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 60px;
      color: white;
      position: relative;
      overflow: hidden;
    }

    @media (max-width: 900px) {
      .auth-side-decor {
        display: none;
      }
    }

    .auth-side-decor::before {
      content: "";
      position: absolute;
      top: -10%;
      right: -10%;
      width: 400px;
      height: 400px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 50%;
      filter: blur(60px);
    }

    .auth-side-decor h2 {
      font-size: 42px;
      font-weight: 800;
      line-height: 1.2;
      margin-bottom: 24px;
      letter-spacing: -0.03em;
      position: relative;
      z-index: 1;
    }

    .auth-side-decor p {
      font-size: 18px;
      opacity: 0.8;
      line-height: 1.6;
      max-width: 440px;
      position: relative;
      z-index: 1;
    }

    .auth-form-container {
      width: 100%;
      max-width: 540px;
      background: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 60px;
      box-shadow: -20px 0 60px rgba(0, 0, 0, 0.02);
    }

    @media (max-width: 640px) {
      .auth-form-container {
        padding: 40px 24px;
      }
    }

    .auth-header {
      margin-bottom: 40px;
    }

    .auth-header h1 {
      font-size: 32px;
      font-weight: 800;
      color: #0f172a;
      letter-spacing: -0.02em;
      margin-bottom: 12px;
    }

    .auth-header p {
      color: #64748b;
      font-size: 15px;
    }

    .back-to-home {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #94a3b8;
      text-decoration: none;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 32px;
      transition: all 0.2s;
    }

    .back-to-home:hover {
      color: #2563eb;
      transform: translateX(-4px);
    }

    .auth-input-group {
      margin-bottom: 24px;
    }

    .auth-input-group label {
      display: block;
      font-size: 13px;
      font-weight: 700;
      color: #1e293b;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 10px;
    }

    .auth-input-group input {
      width: 100%;
      padding: 16px 20px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      border-radius: 14px;
      font-size: 16px;
      color: #0f172a;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .auth-input-group input:focus {
      background: white;
      border-color: #2563eb;
      box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
      outline: none;
    }

    .auth-submit-btn {
      width: 100%;
      padding: 18px 24px;
      background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%);
      color: white;
      border: none;
      border-radius: 14px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 12px;
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.25);
    }

    .auth-submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 35px rgba(37, 99, 235, 0.3);
    }

    .auth-switch {
      margin-top: 32px;
      text-align: center;
      font-size: 15px;
      color: #64748b;
    }

    .auth-switch a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 700;
    }

    .auth-switch a:hover {
      text-decoration: underline;
    }

    .auth-role-selector {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }

    .auth-role-card {
      position: relative;
    }

    .auth-role-card input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      height: 0;
      width: 0;
    }

    .auth-role-card .role-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px 16px;
      background: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .auth-role-card .role-box svg {
      width: 32px;
      height: 32px;
      margin-bottom: 12px;
      color: #94a3b8;
      transition: all 0.2s;
    }

    .auth-role-card .role-box span {
      font-size: 14px;
      font-weight: 700;
      color: #64748b;
    }

    .auth-role-card input:checked+.role-box {
      border-color: #2563eb;
      background: rgba(37, 99, 235, 0.03);
    }

    .auth-role-card input:checked+.role-box svg {
      color: #2563eb;
    }

    .auth-role-card input:checked+.role-box span {
      color: #2563eb;
    }

    .auth-role-card:hover .role-box {
      border-color: #cbd5e1;
      transform: translateY(-2px);
    }

    .form-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
      border: 1px solid rgba(226, 232, 240, 0.8);
      max-width: 520px;
      margin: 0 auto;
    }

    .form-group {
      margin-bottom: 24px;
      position: relative;
    }

    .form-group label {
      display: block;
      font-size: 14px;
      font-weight: 700;
      color: #334155;
      margin-bottom: 10px;
      letter-spacing: 0.01em;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 16px 18px;
      font-size: 16px;
      font-family: inherit;
      color: #0f172a;
      background: #f8fafc;
      border: 1.5px solid #e2e8f0;
      border-radius: 14px;
      transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }

    input:focus,
    select:focus {
      outline: none;
      background: white;
      border-color: #2563eb;
      box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.08);
    }

    select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 14px center;
      background-size: 18px;
      padding-right: 48px;
    }

    /* Searchable Select */
    .searchable-select {
      position: relative;
    }

    .searchable-select input {
      padding-right: 48px;
    }

    .searchable-select::after {
      content: "";
      position: absolute;
      right: 18px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      pointer-events: none;
      transition: transform 0.2s;
    }

    .searchable-select.open::after {
      transform: translateY(-50%) rotate(180deg);
    }

    .select-dropdown {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      z-index: 1000;
      max-height: 280px;
      overflow-y: auto;
      display: none;
      padding: 8px;
      animation: dropdownSlide 0.2s ease-out;
    }

    @keyframes dropdownSlide {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .select-dropdown.visible {
      display: block;
    }

    .select-option {
      padding: 12px 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      border-radius: 10px;
      transition: all 0.2s;
      font-size: 15px;
      color: #334155;
    }

    .select-option:hover {
      background: #f1f5f9;
      color: #0f172a;
    }

    .select-option.selected {
      background: rgba(37, 99, 235, 0.05);
      color: #2563eb;
      font-weight: 600;
    }

    .select-option .opt-icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    .select-no-results {
      padding: 16px;
      text-align: center;
      color: #94a3b8;
      font-size: 14px;
    }

    .btn-submit {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 16px 32px;
      font-size: 17px;
      font-weight: 600;
      font-family: inherit;
      color: white;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      border: none;
      border-radius: 14px;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(37, 99, 235, 0.4);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 28px rgba(37, 99, 235, 0.45);
    }

    .test-yaradin-main {
      max-width: 640px;
      margin: 0 auto;
      padding: 48px 24px 80px;
    }

    .page-header {
      margin-bottom: 32px;
    }

    .page-header h1 {
      font-size: clamp(24px, 3.5vw, 30px);
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    .page-header p {
      font-size: 15px;
      color: #64748b;
      line-height: 1.5;
    }

    .test-create-view {
      transition: opacity 0.3s ease;
    }

    .test-create-view.hidden {
      display: none !important;
    }

    .test-questions-view {
      display: none;
    }

    .test-questions-view.visible {
      display: block;
      animation: slideUpFade 0.35s ease forwards;
    }

    .generating-state {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 20px;
      padding: 80px 40px;
      color: #64748b;
      font-size: 16px;
      font-weight: 500;
      background: white;
      border-radius: 24px;
      border: 1px solid #e2e8f0;
      max-width: 520px;
      margin: 40px auto 0;
    }

    .generating-state.visible {
      display: flex;
      animation: fadeIn 0.4s ease-out;
    }

    .generating-state .spinner {
      width: 48px;
      height: 48px;
      border: 3px solid #f1f5f9;
      border-top-color: #2563eb;
      border-radius: 50%;
      animation: spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    }

    .generating-state span:not(.spinner) {
      animation: pulseText 2s ease-in-out infinite;
    }

    @keyframes pulseText {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .questions-list {
      margin-top: 24px;
    }

    .question-card {
      background: white;
      border-radius: 14px;
      padding: 20px;
      margin-bottom: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      border: 1px solid rgba(226, 232, 240, 0.6);
      transition: opacity 0.3s ease;
    }

    .question-card:nth-child(1) {
      animation: slideUpFade 0.3s 0.05s both;
    }

    .question-card:nth-child(2) {
      animation: slideUpFade 0.3s 0.1s both;
    }

    .question-card:nth-child(3) {
      animation: slideUpFade 0.3s 0.15s both;
    }

    .question-card:nth-child(4) {
      animation: slideUpFade 0.3s 0.2s both;
    }

    .question-card:nth-child(5) {
      animation: slideUpFade 0.3s 0.25s both;
    }

    .question-card:nth-child(n+6) {
      animation: slideUpFade 0.3s 0.3s both;
    }

    .question-card .q-num {
      font-size: 12px;
      font-weight: 600;
      color: #2563eb;
      margin-bottom: 8px;
    }

    .question-card .q-text {
      font-size: 15px;
      color: #1e293b;
      line-height: 1.5;
    }

    .question-card .q-options {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .question-card .q-option {
      font-size: 14px;
      color: #475569;
      padding: 8px 12px;
      background: #f8fafc;
      border-radius: 8px;
    }

    .questions-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .questions-header h2 {
      font-size: 18px;
      font-weight: 600;
      color: #1e293b;
    }

    .btn-back-create {
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 500;
      color: #64748b;
      background: transparent;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.2s;
    }

    .btn-back-create:hover {
      color: #2563eb;
      border-color: #2563eb;
    }

    .results-main {
      max-width: 900px;
      margin: 0 auto;
      padding: 48px 24px 80px;
    }

    .results-header {
      margin-bottom: 36px;
    }

    .results-header h1 {
      font-size: clamp(24px, 3.5vw, 30px);
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 8px;
    }

    .results-header p {
      font-size: 15px;
      color: #64748b;
      line-height: 1.5;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 36px;
    }

    .stat-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
      border: 1px solid rgba(226, 232, 240, 0.6);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    /* Analytics & Review Styles */
    .analytics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .analytics-card {
      background: white;
      padding: 24px;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
    }

    .analytics-card .label {
      font-size: 14px;
      color: #64748b;
      margin-bottom: 8px;
    }

    .analytics-card .value {
      font-size: 28px;
      font-weight: 700;
      color: #1e293b;
    }

    .analytics-card .sub {
      font-size: 13px;
      margin-top: 6px;
    }

    .analytics-card .sub.up {
      color: #16a34a;
    }

    .analytics-card .sub.down {
      color: #dc2626;
    }

    .charts-container {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 24px;
      margin-bottom: 40px;
    }

    @media (max-width: 768px) {
      .charts-container {
        grid-template-columns: 1fr;
      }
    }

    .chart-box {
      background: white;
      padding: 24px;
      border-radius: 20px;
      border: 1px solid #e2e8f0;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .chart-title {
      font-weight: 700;
      color: #1e293b;
    }

    /* CSS Bar Chart */
    .simple-bar-chart {
      display: flex;
      align-items: flex-end;
      gap: 12px;
      height: 200px;
      padding-bottom: 24px;
      border-bottom: 1px solid #e2e8f0;
    }

    .bar-group {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .bar {
      width: 100%;
      background: #3b82f6;
      border-radius: 6px 6px 0 0;
      transition: height 0.5s ease;
      min-height: 4px;
      position: relative;
    }

    .bar:hover {
      opacity: 0.9;
    }

    .bar-label {
      font-size: 12px;
      color: #64748b;
      text-align: center;
    }

    /* Topic Progress Bars */
    .topic-item {
      margin-bottom: 16px;
    }

    .topic-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
      font-size: 14px;
      font-weight: 500;
    }

    .progress-track {
      height: 8px;
      background: #f1f5f9;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #2563eb;
      border-radius: 4px;
    }

    .progress-fill.warning {
      background: #f59e0b;
    }

    .progress-fill.danger {
      background: #ef4444;
    }

    /* Heatmap */
    .heatmap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
    }

    .heatmap-item {
      aspect-ratio: 1;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
      text-align: center;
      font-size: 12px;
      font-weight: 600;
      color: white;
    }

    /* Detailed Review Styles */
    .review-header {
      background: white;
      padding: 24px;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      margin-bottom: 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .review-stat {
      text-align: center;
    }

    .review-stat .t {
      font-size: 13px;
      color: #64748b;
    }

    .review-stat .v {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
    }

    .review-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 16px;
      position: relative;
    }

    .review-card.correct {
      border-left: 4px solid #16a34a;
    }

    .review-card.wrong {
      border-left: 4px solid #dc2626;
    }

    .q-meta-badges {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge.easy {
      background: #dcfce7;
      color: #166534;
    }

    .badge.medium {
      background: #fef9c3;
      color: #854d0e;
    }

    .badge.hard {
      background: #fee2e2;
      color: #991b1b;
    }

    .badge.time-ok {
      background: #e0f2fe;
      color: #075985;
    }

    .badge.time-warn {
      background: #ffedd5;
      color: #9a3412;
    }

    .badge.time-crit {
      background: #fce7f3;
      color: #9d174d;
    }

    .q-explanation {
      margin-top: 16px;
      padding: 16px;
      background: #f8fafc;
      border-radius: 12px;
      font-size: 14px;
      color: #475569;
      border: 1px solid #e2e8f0;
    }

    .analytics-view {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .hidden-view {
      display: none !important;
    }


    .dashboard-card {
      background: white;
      border-radius: 20px;
      padding: 32px;
      border: 1px solid rgba(226, 232, 240, 0.8);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      position: relative;
      overflow: hidden;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 32px rgba(249, 115, 22, 0.15);
      border-color: rgba(249, 115, 22, 0.3);
    }

    .dashboard-card-icon {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(234, 88, 12, 0.1));
      color: #ea580c;
      /* Fallback */
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      transition: transform 0.3s ease;
    }

    .dashboard-card-icon svg {
      width: 28px;
      height: 28px;
      stroke-width: 2px;
      stroke: #ea580c;
    }

    .dashboard-card:hover .dashboard-card-icon {
      transform: scale(1.1) rotate(5deg);
    }

    .dashboard-card h3 {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 8px;
    }

    .dashboard-card p {
      font-size: 15px;
      color: #64748b;
      line-height: 1.5;
    }

    /* Exam Room Styles */
    .exam-room {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 24px;
    }

    .exam-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 1px solid #e2e8f0;
    }

    .timer-badge {
      font-family: monospace;
      font-size: 20px;
      font-weight: 600;
      color: #ea580c;
      background: rgba(249, 115, 22, 0.1);
      padding: 8px 16px;
      border-radius: 8px;
    }

    /* Library Styles */
    .library-tabs {
      display: flex;
      gap: 16px;
      margin-bottom: 32px;
      border-bottom: 2px solid #e2e8f0;
    }

    .library-tab {
      padding: 12px 24px;
      font-weight: 600;
      color: #64748b;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px;
      transition: all 0.2s;
    }

    .library-tab.active {
      color: #ea580c;
      border-bottom-color: #ea580c;
    }

    /* Hide/Show utility for sub-views logic moved to JS or simple CSS classes */
    .sub-view {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .sub-view.active {
      display: block;
    }

    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
    }

    .stat-card .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 4px;
    }

    .stat-card .stat-label {
      font-size: 13px;
      color: #64748b;
      font-weight: 500;
    }

    .results-section {
      margin-bottom: 32px;
    }

    .results-section h2 {
      font-size: 18px;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 16px;
    }

    .result-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      background: white;
      border-radius: 12px;
      margin-bottom: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
      border: 1px solid rgba(226, 232, 240, 0.5);
      transition: opacity 0.2s;
    }

    .result-row:hover {
      opacity: 0.95;
    }

    .result-row .student-name {
      font-weight: 500;
      color: #1e293b;
    }

    .result-row .result-meta {
      font-size: 13px;
      color: #94a3b8;
    }

    .result-row .result-score {
      font-weight: 600;
      font-size: 16px;
      padding: 6px 12px;
      border-radius: 8px;
    }

    .result-row .result-score.good {
      background: rgba(34, 197, 94, 0.12);
      color: #16a34a;
    }

    .result-row .result-score.medium {
      background: rgba(234, 179, 8, 0.12);
      color: #ca8a04;
    }

    .result-row .result-score.low {
      background: rgba(239, 68, 68, 0.12);
      color: #dc2626;
    }

    .score-bar {
      height: 8px;
      background: #e2e8f0;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 12px;
    }

    .score-bar-fill {
      height: 100%;
      border-radius: 4px;
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      transition: width 0.5s ease;
    }

    .results-empty {
      text-align: center;
      padding: 60px 24px;
      background: rgba(248, 250, 252, 0.5);
      border: 2px dashed #e2e8f0;
      border-radius: 24px;
      color: #64748b;
      font-size: 16px;
    }

    /* Library Redesign Styles */
    .library-hero {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      border-radius: 24px;
      padding: 48px;
      color: white;
      margin-bottom: 32px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.1);
    }

    .library-hero::after {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%);
      border-radius: 50%;
    }

    .library-hero h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 12px;
      letter-spacing: -0.02em;
    }

    .library-hero p {
      font-size: 16px;
      opacity: 0.8;
      max-width: 500px;
      line-height: 1.6;
    }

    .library-controls {
      display: flex;
      flex-direction: column;
      gap: 24px;
      margin-bottom: 32px;
    }

    .library-search-wrapper {
      position: relative;
      max-width: 500px;
    }

    .library-search-wrapper svg {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: #94a3b8;
    }

    .library-search-input {
      width: 100%;
      padding: 16px 16px 16px 48px;
      font-size: 16px;
      border-radius: 14px;
      border: 1px solid #e2e8f0;
      background: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
      transition: all 0.2s;
    }

    .library-search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
    }

    .library-categories {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 8px;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .library-categories::-webkit-scrollbar {
      display: none;
    }

    .category-btn {
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 50px;
      background: white;
      border: 1px solid #e2e8f0;
      color: #64748b;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s;
    }

    .category-btn.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .library-grid-new {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }

    .lib-test-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      border: 1px solid #e2e8f0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
      position: relative;
      cursor: pointer;
    }

    .lib-test-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      border-color: #3b82f6;
    }

    .lib-test-card-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    .lib-icon-box {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .lib-icon-box.blue {
      background: rgba(59, 130, 246, 0.1);
      color: #3b82f6;
    }

    .lib-icon-box.orange {
      background: rgba(249, 115, 22, 0.1);
      color: #f97316;
    }

    .lib-icon-box.purple {
      background: rgba(168, 85, 247, 0.1);
      color: #a855f7;
    }

    .lib-icon-box.green {
      background: rgba(34, 197, 94, 0.1);
      color: #22c55e;
    }

    .lib-test-info h3 {
      font-size: 18px;
      font-weight: 700;
      color: #1a2d4a;
      margin-bottom: 6px;
    }

    .lib-test-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 13px;
      color: #64748b;
    }

    .lib-test-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .lib-difficulty {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .lib-difficulty.easy {
      background: #dcfce7;
      color: #166534;
    }

    .lib-difficulty.medium {
      background: #fef9c3;
      color: #854d0e;
    }

    .lib-difficulty.hard {
      background: #fee2e2;
      color: #991b1b;
    }

    .lib-test-footer {
      margin-top: 24px;
      padding-top: 20px;
      border-top: 1px solid #f1f5f9;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .lib-teacher {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .lib-teacher-btn {
      width: 28px;
      height: 28px;
      background: #f1f5f9;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      color: #475569;
    }

    .lib-teacher-name {
      font-size: 13px;
      font-weight: 500;
      color: #475569;
    }

    .btn-start-test {
      padding: 10px 18px;
      background: #3b82f6;
      color: white;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.2s;
    }

    .btn-start-test:hover {
      background: #2563eb;
      transform: translateX(4px);
    }

    /* Student Generate Redesign */
    .gen-hero {
      background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
      border-radius: 24px;
      padding: 40px;
      color: white;
      margin-bottom: 32px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(234, 88, 12, 0.15);
    }

    .gen-hero h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    .gen-hero p {
      font-size: 15px;
      opacity: 0.9;
      max-width: 400px;
      line-height: 1.5;
    }

    .searchable-select {
      position: relative;
    }

    .search-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      margin-top: 8px;
      max-height: 240px;
      overflow-y: auto;
      z-index: 100;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      display: none;
      animation: fadeIn 0.2s ease;
    }

    .search-dropdown.visible {
      display: block;
    }

    .search-option {
      padding: 12px 16px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 15px;
      color: #1e293b;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .search-option:hover {
      background: #f8fafc;
      padding-left: 20px;
    }

    .search-option.selected {
      background: #fff7ed;
      color: #ea580c;
      font-weight: 600;
    }

    @media (max-width: 640px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }

      .result-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
    }

    @media (max-width: 768px) {
      .hero {
        padding: 60px 20px 80px;
      }

      .section {
        padding: 60px 20px;
      }

      .nav-buttons {
        gap: 8px;
      }

      .btn-nav {
        padding: 8px 16px;
        font-size: 14px;
      }

      .cta-box {
        padding: 40px 24px;
      }
    }

    @media (max-width: 480px) {

      .hero-buttons,
      .cta-buttons {
        flex-direction: column;
      }

      .btn-hero,
      .btn-cta {
        width: 100%;
        text-align: center;
      }

      .role-options {
        grid-template-columns: 1fr;
      }

      .card {
        padding: 32px 24px;
      }
    }

    @media (max-width: 640px) {
      .form-row {
        grid-template-columns: 1fr;
      }

      .join-input-group {
        flex-direction: column;
      }
    }

    /* Student Dashboard Styles */
    .student-dashboard-main {
      max-width: 800px;
      margin: 0 auto;
      padding: 48px 24px 80px;
    }

    .join-test-card {
      background: white;
      border: 1px solid rgba(226, 232, 240, 0.8);
      border-radius: 24px;
      padding: 48px 32px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.04);
      margin-bottom: 56px;
      position: relative;
      overflow: hidden;
    }

    .join-test-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #f97316, #ea580c);
    }

    .join-test-card h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #1e293b;
    }

    .join-test-card p {
      color: #64748b;
      margin-bottom: 32px;
      font-size: 16px;
    }

    .join-input-group {
      display: flex;
      gap: 12px;
      max-width: 460px;
      margin: 0 auto;
    }

    .join-input-group input {
      flex: 1;
      padding: 18px 20px;
      font-size: 18px;
      letter-spacing: 3px;
      text-align: center;
      border-radius: 14px;
      border: 2px solid #e2e8f0;
      text-transform: uppercase;
      font-weight: 700;
      color: #1e293b;
      transition: all 0.2s;
    }

    .join-input-group input:focus {
      border-color: #f97316;
      box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.1);
      outline: none;
    }

    .btn-join {
      padding: 16px 32px;
      font-size: 16px;
      font-weight: 600;
      color: white;
      background: linear-gradient(135deg, #f97316, #ea580c);
      border: none;
      border-radius: 14px;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
      box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
    }

    .btn-join:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(249, 115, 22, 0.4);
    }

    .recent-tests h3 {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Analytics & Review Styles */
    .analytics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .analytics-card {
      background: white;
      padding: 24px;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
    }

    .analytics-card .label {
      font-size: 14px;
      color: #64748b;
      margin-bottom: 8px;
    }

    .analytics-card .value {
      font-size: 28px;
      font-weight: 700;
      color: #1e293b;
    }

    .analytics-card .sub {
      font-size: 13px;
      margin-top: 6px;
    }

    .analytics-card .sub.up {
      color: #16a34a;
    }

    .analytics-card .sub.down {
      color: #dc2626;
    }

    .charts-container {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 24px;
      margin-bottom: 40px;
    }

    @media (max-width: 768px) {
      .charts-container {
        grid-template-columns: 1fr;
      }
    }

    .chart-box {
      background: white;
      padding: 24px;
      border-radius: 20px;
      border: 1px solid #e2e8f0;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .chart-title {
      font-weight: 700;
      color: #1e293b;
    }

    .simple-bar-chart {
      display: flex;
      align-items: flex-end;
      gap: 12px;
      height: 200px;
      padding-bottom: 24px;
      border-bottom: 1px solid #e2e8f0;
    }

    .bar-group {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .bar {
      width: 100%;
      background: #3b82f6;
      border-radius: 6px 6px 0 0;
      transition: height 0.5s ease;
      min-height: 4px;
      position: relative;
    }

    .bar:hover {
      opacity: 0.9;
    }

    .bar-label {
      font-size: 12px;
      color: #64748b;
      text-align: center;
    }

    .topic-item {
      margin-bottom: 16px;
    }

    .topic-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
      font-size: 14px;
      font-weight: 500;
    }

    .progress-track {
      height: 8px;
      background: #f1f5f9;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #2563eb;
      border-radius: 4px;
    }

    .progress-fill.warning {
      background: #f59e0b;
    }

    .progress-fill.danger {
      background: #ef4444;
    }

    .heatmap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
    }

    .heatmap-item {
      aspect-ratio: 1;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
      text-align: center;
      font-size: 12px;
      font-weight: 600;
      color: white;
    }

    .review-header {
      background: white;
      padding: 24px;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      margin-bottom: 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .review-stat {
      text-align: center;
    }

    .review-stat .t {
      font-size: 13px;
      color: #64748b;
    }

    .review-stat .v {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
    }

    .review-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 16px;
      position: relative;
    }

    .review-card.correct {
      border-left: 4px solid #16a34a;
    }

    .review-card.wrong {
      border-left: 4px solid #dc2626;
    }

    .q-meta-badges {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge.easy {
      background: #dcfce7;
      color: #166534;
    }

    .badge.medium {
      background: #fef9c3;
      color: #854d0e;
    }

    .badge.hard {
      background: #fee2e2;
      color: #991b1b;
    }

    .badge.time-ok {
      background: #e0f2fe;
      color: #075985;
    }

    .badge.time-warn {
      background: #ffedd5;
      color: #9a3412;
    }

    .badge.time-crit {
      background: #fce7f3;
      color: #9d174d;
    }

    .q-explanation {
      margin-top: 16px;
      padding: 16px;
      background: #f8fafc;
      border-radius: 12px;
      font-size: 14px;
      color: #475569;
      border: 1px solid #e2e8f0;
    }

    .analytics-view {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .hidden-view {
      display: none !important;
    }

    /* Teacher Dashboard Styles */
    .teacher-dashboard-main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 24px;
    }

    .teacher-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
      margin-bottom: 40px;
    }

    .stat-card-advanced {
      background: white;
      border-radius: 16px;
      padding: 28px;
      border: 1px solid #e5e7eb;
      position: relative;
      overflow: hidden;
      transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .stat-card-advanced:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.06), 0 0 0 1px rgba(59, 130, 246, 0.1);
      border-color: #dbeafe;
    }

    .logo {
      transition: opacity 0.2s;
      cursor: pointer;
    }

    /* Student Minimal Stat Cards & Detail Views */
    .modern-stat-card {
      background: white;
      padding: 24px;
      border-radius: 20px;
      border: 1px solid #f1f5f9;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
      text-decoration: none;
      color: inherit;
    }

    .modern-stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
      border-color: #3b82f6;
    }

    .ms-val {
      font-size: 28px;
      font-weight: 800;
      color: #0f172a;
      letter-spacing: -0.02em;
      margin-bottom: 4px;
    }

    .ms-label {
      font-size: 14px;
      color: #64748b;
      font-weight: 500;
    }

    .goal-detail-header {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      padding: 40px;
      border-radius: 24px;
      color: white;
      margin-bottom: 32px;
    }

    .completion-list {
      display: grid;
      gap: 16px;
    }

    .completion-item {
      background: white;
      padding: 20px;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .calendar-day {
      aspect-ratio: 1;
      border-radius: 8px;
      background: #f1f5f9;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      color: #94a3b8;
    }

    .calendar-day.filled {
      background: rgba(34, 197, 94, 0.15);
      color: #16a34a;
    }

    .calendar-day.active {
      background: #3b82f6;
      color: white;
    }

    /* Weekly Insights Styles */
    .insight-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      border: 1px solid #f1f5f9;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.01);
    }

    .weekly-stats-bar {
      display: flex;
      gap: 20px;
      margin-top: 24px;
    }

    .w-stat-item {
      flex: 1;
      background: #f8fafc;
      padding: 16px;
      border-radius: 16px;
      text-align: center;
    }

    .w-stat-label {
      font-size: 12px;
      color: #64748b;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .w-stat-value {
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
    }

    .subject-performance-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .sub-perf-item {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .sub-perf-info {
      flex: 1;
    }

    .sub-perf-name {
      font-size: 14px;
      font-weight: 600;
      color: #334155;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
    }

    .sub-perf-bar {
      height: 6px;
      background: #f1f5f9;
      border-radius: 3px;
      overflow: hidden;
    }

    .sub-perf-fill {
      height: 100%;
      border-radius: 3px;
    }

    /* State Exam Card Styles */
    .exam-result-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-bottom: 32px;
    }

    @media (max-width: 640px) {
      .exam-result-grid {
        grid-template-columns: 1fr;
      }
    }

    .exam-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      border: 1px solid #e2e8f0;
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: block;
    }

    .exam-card:hover {
      transform: translateY(-4px);
      border-color: #3b82f6;
      box-shadow: 0 12px 24px rgba(59, 130, 246, 0.08);
    }

    .exam-card-type {
      font-size: 11px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #94a3b8;
      margin-bottom: 6px;
    }

    .exam-card-title {
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 16px;
    }

    .exam-score-box {
      display: flex;
      align-items: baseline;
      gap: 4px;
      margin-bottom: 12px;
    }

    .exam-score-current {
      font-size: 32px;
      font-weight: 800;
      color: #3b82f6;
    }

    .exam-score-max {
      font-size: 16px;
      font-weight: 600;
      color: #94a3b8;
    }

    .exam-progress-bg {
      height: 8px;
      background: #f1f5f9;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .exam-progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #3b82f6, #60a5fa);
      border-radius: 4px;
      transition: width 0.8s ease-out;
    }

    .group-tag {
      position: absolute;
      top: 24px;
      right: 24px;
      padding: 4px 10px;
      border-radius: 8px;
      background: #f1f5f9;
      font-size: 11px;
      font-weight: 700;
      color: #64748b;
    }

    .group-selector {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .group-chip {
      padding: 6px 14px;
      border-radius: 50px;
      background: white;
      border: 1px solid #e2e8f0;
      font-size: 13px;
      font-weight: 600;
      color: #64748b;
      cursor: pointer;
      transition: all 0.2s;
    }

    .group-chip.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
    }

    .logo:hover {
      opacity: 0.8;
    }

    .logo svg {
      transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1);
    }

    .logo:hover svg {
      transform: translateX(-4px);
    }

    .st-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 24px;
      transition: transform 0.2s;
    }

    .st-icon.blue {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      color: #1e40af;
    }

    .st-icon.green {
      background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
      color: #15803d;
    }

    .st-icon.purple {
      background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%);
      color: #7e22ce;
    }

    .st-icon.orange {
      background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%);
      color: #c2410c;
    }

    .st-value {
      font-size: 36px;
      font-weight: 700;
      color: #0f172a;
      line-height: 1;
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    .st-label {
      font-size: 14px;
      color: #64748b;
      font-weight: 600;
      letter-spacing: 0.01em;
    }

    .st-trend {
      font-size: 12px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .st-trend.up {
      color: #16a34a;
    }

    .insight-card.clickable {
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .insight-card.clickable:hover {
      transform: translateY(-4px);
      border-color: #3b82f6;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
    }

    .insight-card.clickable::after {
      content: "Thlil et ";
      position: absolute;
      bottom: 12px;
      right: 12px;
      font-size: 10px;
      font-weight: 700;
      color: #3b82f6;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .insight-card.clickable:hover::after {
      opacity: 1;
    }

    .completion-item.clickable {
      cursor: pointer;
      transition: all 0.2s;
    }

    .completion-item.clickable:hover {
      background: #f8fafc;
      border-color: #3b82f6;
      transform: translateX(4px);
    }

    .chart-row {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 24px;
      margin-bottom: 48px;
    }

    .chart-card {
      background: white;
      border-radius: 16px;
      padding: 32px;
      border: 1px solid #e5e7eb;
      height: 100%;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      transition: box-shadow 0.2s;
    }

    .chart-card:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .chart-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
      padding-bottom: 16px;
      border-bottom: 1px solid #f1f5f9;
    }

    .chart-head h3 {
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
      margin: 0;
    }

    /* Simple Bar Chart CSS */
    .bar-chart-css {
      display: flex;
      align-items: flex-end;
      gap: 20px;
      height: 200px;
      padding-bottom: 10px;
      border-bottom: 1px solid #e2e8f0;
    }

    .b-col {
      flex: 1;
      background: #e2e8f0;
      border-radius: 8px 8px 0 0;
      position: relative;
      transition: height 0.5s;
      min-height: 4px;
    }

    .b-col:hover {
      opacity: 0.8;
    }

    .b-col.active {
      background: #3b82f6;
    }

    .b-label {
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 12px;
      color: #64748b;
    }

    .result-table {
      width: 100%;
      border-collapse: collapse;
    }

    .result-table th {
      text-align: left;
      padding: 16px;
      color: #64748b;
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      border-bottom: 1px solid #e2e8f0;
    }

    .result-table td {
      padding: 16px;
      border-bottom: 1px solid #f1f5f9;
      color: #1e293b;
      font-size: 14px;
      font-weight: 500;
    }

    .result-table tr:hover td {
      background: #f8fafc;
    }

    .status-badge {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .status-badge.done {
      background: #dcfce7;
      color: #166534;
    }

    .status-badge.pending {
      background: #fff7ed;
      color: #9a3412;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
      border-radius: 6px;
      border: 1px solid #e2e8f0;
      background: white;
      color: #475569;
      cursor: pointer;
      text-decoration: none;
    }

    .btn-sm:hover {
      background: #f8fafc;
      color: #3b82f6;
      border-color: #3b82f6;
    }

    .min-section-title {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 24px;
    }

    /* Minimal Dashboard Styles */
    .minimal-section {
      margin-bottom: 40px;
    }

    .section-label {
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      color: #94a3b8;
      margin-bottom: 16px;
      letter-spacing: 0.5px;
    }

    .minimal-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
    }

    .minimal-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
      text-decoration: none;
      color: inherit;
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
    }

    .minimal-card:hover {
      border-color: #cbd5e1;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
    }

    .min-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: #f8fafc;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #64748b;
      margin-bottom: 16px;
      transition: all 0.2s;
    }

    .minimal-card:hover .min-icon {
      background: #fff7ed;
      color: #ea580c;
    }

    .min-title {
      font-size: 16px;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 4px;
    }

    .min-desc {
      font-size: 14px;
      color: #64748b;
      line-height: 1.5;
    }

    .modern-stat-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .ms-val {
      font-size: 24px;
      font-weight: 700;
      color: #1e293b;
    }

    .ms-label {
      font-size: 13px;
      color: #64748b;
    }

    /* Quick Join Row */
    .join-row-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 6px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .join-input {
      border: none;
      outline: none;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: 500;
      flex: 1;
      border-radius: 8px;
      background: transparent;
      letter-spacing: 2px;
    }

    .join-input::placeholder {
      letter-spacing: 0;
      color: #94a3b8;
      font-weight: 400;
    }

    .btn-join-minimal {
      background: #0f172a;
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .btn-join-minimal:hover {
      opacity: 0.9;
    }

    .analytics-view {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .hidden-view {
      display: none !important;
    }

    /* Student Profile Detailed Styles */
    .profile-banner {
      background: white;
      border-radius: 24px;
      padding: 32px;
      border: 1px solid #e2e8f0;
      margin-bottom: 32px;
      display: flex;
      align-items: center;
      gap: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
    }

    .profile-avatar-large {
      width: 80px;
      height: 80px;
      border-radius: 20px;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: 700;
      box-shadow: 0 8px 16px rgba(37, 99, 235, 0.2);
    }

    .detail-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      border: 1px solid #e2e8f0;
      height: 100%;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02);
    }

    .detail-card h3 {
      font-size: 16px;
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .history-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px;
      background: #f8fafc;
      border-radius: 12px;
      border: 1px solid #f1f5f9;
      margin-bottom: 10px;
      transition: all 0.2s;
    }

    .history-item:last-child {
      margin-bottom: 0;
    }

    .history-item:hover {
      border-color: #cbd5e1;
      background: #f1f5f9;
      transform: translateX(4px);
    }

    .mastery-row {
      margin-bottom: 20px;
    }

    .mastery-row:last-child {
      margin-bottom: 0;
    }

    .mastery-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 14px;
      font-weight: 600;
      color: #475569;
    }

    .mastery-bar {
      height: 8px;
      background: #f1f5f9;
      border-radius: 4px;
      overflow: hidden;
    }

    .mastery-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 1s ease-out;
    }

    .badge-status {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .badge-status.active {
      background: #dcfce7;
      color: #166534;
    }

    .badge-status.away {
      background: #fef9c3;
      color: #854d0e;
    }

    /* Manual Test Builder Premium Styles */
    .builder-question-item {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(226, 232, 240, 0.6);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 28px;
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      animation: slideUpFade 0.4s ease-out forwards;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
    }

    .builder-question-item:hover {
      border-color: #3b82f6;
      box-shadow: 0 12px 24px rgba(59, 130, 246, 0.08);
      transform: translateY(-2px);
    }

    .builder-q-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .builder-q-num {
      padding: 6px 14px;
      background: #eff6ff;
      color: #2563eb;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .builder-actions {
      display: flex;
      gap: 10px;
    }

    .action-btn-mini {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      background: white;
      color: #64748b;
      cursor: pointer;
      transition: all 0.2s;
    }

    .action-btn-mini:hover {
      background: #f8fafc;
      color: #1e293b;
      border-color: #cbd5e1;
      transform: scale(1.05);
    }

    .action-btn-mini.delete:hover {
      background: #fef2f2;
      color: #dc2626;
      border-color: #fecaca;
    }

    .builder-option-row {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 14px;
      padding: 6px;
      border-radius: 16px;
      transition: all 0.2s;
    }

    .builder-option-row.is-correct {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
    }

    .correct-checkbox-wrapper {
      position: relative;
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .correct-checkbox {
      width: 24px;
      height: 24px;
      cursor: pointer;
      accent-color: #16a34a;
      opacity: 0.8;
      transition: all 0.2s;
    }

    .correct-checkbox:checked {
      opacity: 1;
      transform: scale(1.1);
    }

    .builder-input {
      border: 1px solid #e2e8f0;
      border-radius: 14px;
      padding: 14px 18px;
      font-size: 15px;
      font-family: inherit;
      width: 100%;
      background: #f8fafc;
      transition: all 0.2s ease;
      color: #1e293b;
    }

    .builder-input::placeholder {
      color: #94a3b8;
    }

    .builder-input:focus {
      outline: none;
      border-color: #3b82f6;
      background: white;
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
    }

    @keyframes slideUpFade {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }

      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    #btn-add-question:hover {
      background: #f8fafc;
      border-color: #3b82f6;
      color: #2563eb;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.05);
    }

    /* --- Unified Grid Utilities --- */
    .grid-2,
    .grid-3,
    .grid-4 {
      display: grid;
      gap: 24px;
    }

    .grid-2 {
      grid-template-columns: repeat(2, 1fr);
    }

    .grid-3 {
      grid-template-columns: repeat(3, 1fr);
    }

    .grid-4 {
      grid-template-columns: repeat(4, 1fr);
    }

    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* --- Comprehensive Mobile Responsive Design --- */
    @media (max-width: 1024px) {

      .grid-4,
      .teacher-grid,
      .analytics-grid {
        grid-template-columns: repeat(2, 1fr) !important;
      }
    }

    @media (max-width: 768px) {

      /* General Layout & Spacing */
      .section {
        padding: 40px 16px;
      }

      .hero {
        padding: 40px 16px 60px;
      }

      .teacher-dashboard-main,
      .student-dashboard-main,
      .results-main,
      .exam-room,
      .test-yaradin-main {
        padding: 16px 12px 100px !important;
      }

      /* Typography scaling */
      .hero h1 {
        font-size: 28px !important;
        line-height: 1.3;
      }

      .section-header h2 {
        font-size: 24px !important;
      }

      .auth-side-decor h2 {
        font-size: 28px !important;
      }

      h1,
      .h1 {
        font-size: 24px !important;
      }

      /* Force Single Column on Mobile */
      .features-grid,
      .stats-grid,
      .teacher-grid,
      .analytics-grid,
      .minimal-grid,
      .exam-result-grid,
      .library-grid-new,
      .chart-row,
      .charts-container,
      .grid-2,
      .grid-3,
      .grid-4,
      .form-row {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
      }

      /* Navigation Refinement */
      .landing-nav {
        padding: 8px 12px;
        position: relative;
      }

      .landing-nav-inner {
        gap: 8px;
      }

      .nav-buttons {
        gap: 6px;
      }

      .btn-nav {
        padding: 8px 10px;
        font-size: 12px;
        height: 38px;
      }

      .logo {
        font-size: 16px;
      }

      /* Components Adaptation */
      .cta-box {
        padding: 24px 16px;
        border-radius: 20px;
      }

      .stat-card-advanced,
      .dashboard-card,
      .lib-test-card,
      .detail-card,
      .form-card,
      .stat-card {
        padding: 16px !important;
      }

      .profile-banner {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        gap: 16px;
      }

      .profile-banner div[style*="text-align:right"] {
        text-align: center !important;
      }

      /* Tables to Mobile Cards */
      .result-table-container,
      .result-table {
        display: block;
        width: 100%;
        overflow-x: auto;
      }

      .result-row,
      .flex-between {
        flex-direction: column;
        align-items: stretch !important;
        gap: 12px;
      }

      .flex-between>* {
        text-align: left !important;
      }

      /* Auth Stacking FIX */
      .auth-wrapper {
        flex-direction: column !important;
        min-height: auto;
      }

      .auth-side-decor {
        padding: 32px 20px;
        min-height: 200px;
        text-align: center;
        align-items: center;
        display: flex !important;
        /* Force show decor but smaller */
      }

      .auth-side-decor h2 {
        margin-bottom: 12px;
      }

      .auth-side-decor p {
        font-size: 14px;
        max-width: 100%;
      }

      .auth-form-container {
        max-width: 100% !important;
        padding: 32px 16px !important;
        box-shadow: none;
      }

      /* Forms Refinement */
      .join-input-group {
        flex-direction: column;
        gap: 12px;
      }

      .join-input-group input {
        width: 100%;
        height: 56px;
      }

      .btn-join {
        width: 100%;
        height: 52px;
        font-size: 16px;
      }

      input,
      select,
      textarea {
        font-size: 16px !important;
      }

      /* Prevents iOS zoom */

      /* Exam Room UX */
      .exam-header {
        flex-direction: column !important;
        gap: 12px;
        align-items: flex-start !important;
      }

      .timer-badge {
        width: 100%;
        text-align: center;
      }

      /* Manual Builder specific fixes */
      .builder-question-item {
        padding: 16px;
        border-radius: 20px;
        margin-bottom: 16px;
      }

      .builder-q-header {
        margin-bottom: 12px;
      }

      .action-btn-mini {
        width: 40px;
        height: 40px;
      }

      .builder-input {
        padding: 12px;
      }
    }

    @media (max-width: 480px) {

      .hero-buttons,
      .cta-buttons,
      .builder-actions {
        flex-direction: column !important;
        width: 100%;
      }

      .btn-hero,
      .btn-cta,
      .btn-start-builder,
      .btn-submit,
      .auth-submit-btn {
        width: 100% !important;
        text-align: center;
        height: 52px;
        justify-content: center;
      }

      .auth-role-selector {
        grid-template-columns: 1fr !important;
      }

      .lib-test-footer {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .btn-start-test {
        width: 100% !important;
      }

      /* Mobile Adjustments for Stat Cards */
      .stat-card-advanced {
        padding: 20px !important;
      }

      .st-value {
        font-size: 24px !important;
      }

      /* Dashboard Grids */
      .teacher-grid,
      .analytics-grid,
      .minimal-grid,
      .exam-result-grid {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
      }

      /* Fix fixed-width inputs */
      input[style*="width:280px"],
      input[style*="width: 280px"] {
        width: 100% !important;
      }

      /* Stack headers */
      .page-header div[style*="display:flex"],
      .review-header[style*="display:flex"],
      .goal-detail-header div[style*="display:flex"] {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 16px !important;
      }

      .review-header {
        flex-direction: column !important;
        gap: 20px !important;
      }

      .review-stat {
        text-align: left !important;
      }

      /* Fix the 1.8fr 1fr grid in Goal Details */
      .view main[style*="display:grid"] {
        grid-template-columns: 1fr !important;
      }

      /* Scale large headings */
      h1 {
        font-size: 28px !important;
      }

      .goal-detail-header h1 {
        font-size: 34px !important;
      }

      /* Navigation adjustments */
      .nav-buttons {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .btn-nav {
        padding: 8px 12px !important;
        font-size: 13px !important;
      }

      /* Spacing */
      .profile-banner {
        flex-direction: column !important;
        text-align: center !important;
        gap: 16px !important;
      }

      .profile-banner div {
        text-align: center !important;
      }

      /* Library Hero */
      .library-hero {
        padding: 24px !important;
      }

      .library-hero h1 {
        font-size: 24px !important;
      }

      /* Disable heavy hover on cards for mobile */
      .lib-test-card:hover,
      .dashboard-card:hover {
        transform: none !important;
      }

      .result-row {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 12px !important;
      }

      .lib-test-footer {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 16px !important;
      }

      .exam-header {
        flex-direction: column !important;
        gap: 20px !important;
        align-items: flex-start !important;
      }

      .weekly-stats-bar {
        flex-direction: column !important;
        gap: 12px !important;
      }

      .completion-item {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 16px !important;
      }

      .completion-item a {
        width: 100% !important;
        text-align: center !important;
      }
    }

    /* Prevention of layout breaks */
    * {
      max-width: 100%;
      box-sizing: border-box;
    }

    img,
    svg {
      max-width: 100%;
      height: auto;
    }

    /* Global touch target improvements */
    button,
    a,
    .select-option,
    .group-chip,
    .library-tab,
    .back-to-home,
    .logo,
    .category-btn {
      min-height: 44px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
    }

    /* Performance optimization */
    @media (max-width: 768px) {
      * {
        text-rendering: optimizeSpeed;
      }

      .builder-question-item,
      .landing-nav,
      .cta-box {
        backdrop-filter: none !important;
        background: white !important;
      }

      .viewEnter {
        animation-duration: 0.3s !important;
      }

      /* Grid 3 for mobile: 1 col, Tablet: 2 col, Desktop: 3 col */
      .grid-3 {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* Utility Classes */
    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }

    @media (max-width: 768px) {
      .flex-between {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 16px !important;
      }

      .grid-3 {
        grid-template-columns: 1fr !important;
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <section id="login" class="view">
      <div class="auth-wrapper">
        <div class="auth-side-decor">
          <h2>Glcyi biziml kf edin.</h2>
          <p>Sni intellekt dstkli platformamzla yrnm prosesini daha maraql v effektiv edin.</p>
        </div>
        <div class="auth-form-container">
          <a href="#" class="back-to-home">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            sas shif
          </a>
          <div class="auth-header">
            <h1>Xo gldiniz</h1>
            <p>Davam etmk n hesabnza giri edin.</p>
          </div>
          <form>
            <div class="auth-input-group">
              <label for="login-email">Email nvan</label>
              <input type="email" id="login-email" placeholder="example@gmail.com" />
            </div>
            <div class="auth-input-group">
              <label for="login-password">ifr</label>
              <input type="password" id="login-password" placeholder="" />
            </div>
            <button type="button" class="auth-submit-btn">Daxil ol</button>
          </form>
          <div class="auth-switch">
            Hesabnz yoxdur? <a href="#signup">Qeydiyyatdan kein</a>
          </div>
        </div>
      </div>
    </section>

    <section id="signup" class="view">
      <div class="auth-wrapper">
        <div class="auth-side-decor" style="background: linear-gradient(135deg, #1e1b4b 0%, #1e3a8a 100%);">
          <h2>Byk hdflr doru ilk addm.</h2>
          <p>Minlrl tlb v mllim arasna qoularaq thsilinizi yeni sviyyy dayn.</p>
        </div>
        <div class="auth-form-container">
          <a href="#" class="back-to-home">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            sas shif
          </a>
          <div class="auth-header">
            <h1>Qeydiyyat</h1>
            <p>Mlumatlarnz daxil edrk yeni hesab yaradn.</p>
          </div>
          <form>
            <div class="auth-input-group">
              <label for="signup-fullname">Ad v Soyad</label>
              <input type="text" id="signup-fullname" placeholder="Ad Soyad" />
            </div>
            <div class="auth-input-group">
              <label for="signup-email">Email nvan</label>
              <input type="email" id="signup-email" placeholder="example@gmail.com" />
            </div>
            <div class="auth-input-group">
              <label for="signup-password">ifr</label>
              <input type="password" id="signup-password" placeholder="" />
            </div>

            <div class="auth-input-group">
              <label>Sizin rolunuz</label>
              <div class="auth-role-selector">
                <label class="auth-role-card">
                  <input type="radio" name="role" value="teacher" checked />
                  <div class="role-box">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                      <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                    </svg>
                    <span>Mllim</span>
                  </div>
                </label>
                <label class="auth-role-card">
                  <input type="radio" name="role" value="student" />
                  <div class="role-box">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <span>agird</span>
                  </div>
                </label>
              </div>
            </div>

            <button type="button" class="auth-submit-btn">Hesab yarat</button>
          </form>
          <div class="auth-switch">
            Artq hesabnz var? <a href="#login">Giri edin</a>
          </div>
        </div>
      </div>
    </section>



    <section id="neticeler" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#" class="logo">AI Test <span style="color:#2563eb">Teacher</span></a>
          <div class="nav-buttons">
            <a href="#login" class="btn-nav outline" style="border:none; color:#64748b">x</a>
          </div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #fafbfc; padding: 48px 32px 100px;">
        <div class="page-header" style="margin-bottom: 40px; text-align: left;">
          <div class="flex-between" style="align-items:flex-end;">
            <div>
              <h1 style="font-size:32px; color:#0f172a; margin-bottom:8px; font-weight:700; letter-spacing:-0.02em;">
                Mllim Paneli</h1>
              <p style="color:#64748b; font-size:16px; line-height:1.6;">Sinif performansn v nticlri real vaxtda
                izlyin.</p>
            </div>
            <a href="#teacher-create-test" class="btn"
              style="width:auto; padding: 14px 28px; background: linear-gradient(135deg, #0f172a, #1e293b); text-decoration:none; display:inline-block; border-radius:12px; font-weight:600; box-shadow: 0 4px 12px rgba(15, 23, 42, 0.2); transition: all 0.2s;">+
              Yeni Test</a>
          </div>
        </div>

        <!-- Advanced Stats Grid -->
        <div class="teacher-grid">
          <a href="#teacher-active-tests" class="stat-card-advanced"
            style="text-decoration:none; color:inherit; display:block">
            <div class="st-icon blue">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
              </svg>
            </div>
            <div class="st-value">12</div>
            <div class="st-label">Aktiv Testlr</div>
            <div style="margin-top:12px;"><span class="st-trend up"> 2 yeni</span> <span
                style="font-size:12px; color:#94a3b8">bu hft</span></div>
          </a>

          <a href="#teacher-student-list" class="stat-card-advanced"
            style="text-decoration:none; color:inherit; display:block">
            <div class="st-icon green">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
            </div>
            <div class="st-value">48</div>
            <div class="st-label">agird tirak</div>
            <div style="margin-top:12px;"><span class="st-trend up"> 12%</span> <span
                style="font-size:12px; color:#94a3b8">artm</span></div>
          </a>

          <a href="#teacher-topics-detail" class="stat-card-advanced"
            style="text-decoration:none; color:inherit; display:block">
            <div class="st-icon orange">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </div>
            <div class="st-value">76%</div>
            <div class="st-label">Orta Mvffqiyyt</div>
            <div style="margin-top:12px;"><span class="st-trend down"> 2%</span> <span
                style="font-size:12px; color:#94a3b8">vvlki aya gr</span></div>
          </a>

          <a href="#teacher-topics-detail" class="stat-card-advanced"
            style="text-decoration:none; color:inherit; display:block">
            <div class="st-icon purple">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon
                  points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                </polygon>
              </svg>
            </div>
            <div class="st-value">Riyaziyyat</div>
            <div class="st-label">n Yax Fnn</div>
            <div style="margin-top:12px;"><span style="font-size:12px; color:#94a3b8">9-cu siniflr arasnda</span>
            </div>
          </a>
        </div>

        <!-- Active Tests Section -->
        <div style="margin-bottom: 40px;">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
            <h2 style="font-size:22px; font-weight:700; color:#0f172a; margin:0; letter-spacing:-0.01em;">Aktiv
              mtahanlar</h2>
            <a href="#teacher-active-tests"
              style="font-size:14px; color:#2563eb; text-decoration:none; font-weight:600;">Hamsna bax </a>
          </div>

          <div class="grid-2" style="gap:20px;">
            <!-- Active Test Card 1 -->
            <div
              style="background:white; border:1px solid #e5e7eb; border-radius:18px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); position:relative; overflow:hidden;">
              <div style="position:absolute; top:0; left:0; width:4px; height:100%; background:#2563eb;"></div>

              <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:16px;">
                <div>
                  <div
                    style="font-size:11px; font-weight:700; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:6px;">
                    Riyaziyyat</div>
                  <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0;">Unit 4: Kvadrat Tnliklr</h3>
                </div>
                <span
                  style="padding:4px 10px; border-radius:30px; font-size:10px; font-weight:800; background:#dcfce7; color:#166534; text-transform:uppercase;">Aktiv</span>
              </div>

              <div
                style="display:flex; align-items:center; gap:8px; margin-bottom:20px; padding:10px; background:#f8fafc; border-radius:10px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <span style="font-size:13px; color:#475569; font-weight:500;">9-cu sinif (15 agird)</span>
              </div>

              <div class="grid-2" style="gap:12px; margin-bottom:20px;">
                <div>
                  <div style="font-size:11px; color:#94a3b8; font-weight:600;">KOD</div>
                  <div style="font-size:16px; font-weight:700; color:#2563eb;">839210</div>
                </div>
                <div>
                  <div style="font-size:11px; color:#94a3b8; font-weight:600;">MDDT</div>
                  <div style="font-size:16px; font-weight:700; color:#0f172a;">45 dq</div>
                </div>
              </div>

              <div style="display:flex; gap:12px;">
                <a href="#teacher-active-tests"
                  style="flex:1; padding:10px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; text-align:center; font-size:13px; font-weight:600; color:#475569; text-decoration:none;">Bax</a>
                <a href="#teacher-live-monitor"
                  style="flex:1; padding:10px; background:linear-gradient(135deg, #3b82f6, #2563eb); border-radius:10px; text-align:center; font-size:13px; font-weight:600; color:white; text-decoration:none; box-shadow:0 4px 12px rgba(37, 99, 235, 0.2);">Canl
                  zl</a>
              </div>
            </div>

            <!-- Active Test Card 2 -->
            <div
              style="background:white; border:1px solid #e5e7eb; border-radius:18px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); position:relative; overflow:hidden;">
              <div style="position:absolute; top:0; left:0; width:4px; height:100%; background:#f97316;"></div>

              <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:16px;">
                <div>
                  <div
                    style="font-size:11px; font-weight:700; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:6px;">
                    Fizika</div>
                  <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0;">Mexanika Qanunlar</h3>
                </div>
                <span
                  style="padding:4px 10px; border-radius:30px; font-size:10px; font-weight:800; background:#dcfce7; color:#166534; text-transform:uppercase;">Aktiv</span>
              </div>

              <div
                style="display:flex; align-items:center; gap:8px; margin-bottom:20px; padding:10px; background:#f8fafc; border-radius:10px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <span style="font-size:13px; color:#475569; font-weight:500;">10-cu sinif (22 agird)</span>
              </div>

              <div class="grid-2" style="gap:12px; margin-bottom:20px;">
                <div>
                  <div style="font-size:11px; color:#94a3b8; font-weight:600;">KOD</div>
                  <div style="font-size:16px; font-weight:700; color:#f97316;">450122</div>
                </div>
                <div>
                  <div style="font-size:11px; color:#94a3b8; font-weight:600;">MDDT</div>
                  <div style="font-size:16px; font-weight:700; color:#0f172a;">60 dq</div>
                </div>
              </div>

              <div style="display:flex; gap:12px;">
                <a href="#teacher-active-tests"
                  style="flex:1; padding:10px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; text-align:center; font-size:13px; font-weight:600; color:#475569; text-decoration:none;">Bax</a>
                <a href="#teacher-live-monitor"
                  style="flex:1; padding:10px; background:linear-gradient(135deg, #f97316, #ea580c); border-radius:10px; text-align:center; font-size:13px; font-weight:600; color:white; text-decoration:none; box-shadow:0 4px 12px rgba(249, 115, 22, 0.2);">Canl
                  zl</a>
              </div>
            </div>

            <!-- New Test CTA -->
            <a href="#teacher-create-test"
              style="background:#f8fafc; border:2px dashed #e2e8f0; border-radius:18px; padding:24px; display:flex; flex-direction:column; align-items:center; justify-content:center; text-decoration:none; gap:12px; transition:all 0.2s;">
              <div
                style="width:40px; height:40px; background:white; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#2563eb; box-shadow:0 2px 8px rgba(0,0,0,0.05);">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </div>
              <div style="text-align:center;">
                <div style="font-size:15px; font-weight:700; color:#0f172a; margin-bottom:4px;">Yeni Test Yaradn</div>
                <div style="font-size:12px; color:#64748b;">AI kmyi il imtahan hazrlayn</div>
              </div>
            </a>
          </div>
        </div>

        <!-- Charts Area -->
        <div class="chart-row">
          <div class="chart-card">
            <div class="chart-head">
              <h3>Hftlik Aktivlik</h3>
              <select
                style="width: auto; padding: 6px 12px; font-size: 12px; border: 1px solid #e2e8f0; border-radius: 8px;">
                <option>Son 7 gn</option>
                <option>Bu ay</option>
              </select>
            </div>
            <div class="bar-chart-css">
              <div class="b-col" style="height: 40%"><span class="b-label">B.e</span></div>
              <div class="b-col" style="height: 65%"><span class="b-label">.a</span></div>
              <div class="b-col" style="height: 30%"><span class="b-label">r</span></div>
              <div class="b-col active" style="height: 85%"><span class="b-label">C.a</span></div>
              <div class="b-col" style="height: 55%"><span class="b-label">Cm</span></div>
              <div class="b-col" style="height: 20%"><span class="b-label">n</span></div>
              <div class="b-col" style="height: 10%"><span class="b-label">Baz</span></div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-head">
              <h3>Mvzu Mnimsmsi</h3>
              <a href="#teacher-topics-detail" style="font-size:12px; color:#2563eb; text-decoration:none;">trafl
                </a>
            </div>
            <div style="display:flex; flex-direction:column; gap:16px;">
              <a href="#teacher-topics-detail" style="text-decoration:none; color:inherit; display:block">
                <div
                  style="display:flex; justify-content:space-between; font-size:13px; margin-bottom:6px; font-weight:500;">
                  <span>Kvadrat Tnliklr</span>
                  <span style="color:#16a34a">92%</span>
                </div>
                <div style="height:6px; background:#f1f5f9; border-radius:3px; overflow:hidden;">
                  <div style="width:92%; height:100%; background:#16a34a;"></div>
                </div>
              </a>
              <a href="#teacher-topics-detail" style="text-decoration:none; color:inherit; display:block">
                <div
                  style="display:flex; justify-content:space-between; font-size:13px; margin-bottom:6px; font-weight:500;">
                  <span>Mexanika</span>
                  <span style="color:#3b82f6">78%</span>
                </div>
                <div style="height:6px; background:#f1f5f9; border-radius:3px; overflow:hidden;">
                  <div style="width:78%; height:100%; background:#3b82f6;"></div>
                </div>
              </a>
              <a href="#teacher-topics-detail" style="text-decoration:none; color:inherit; display:block">
                <div
                  style="display:flex; justify-content:space-between; font-size:13px; margin-bottom:6px; font-weight:500;">
                  <span>Molekulyar Fizika</span>
                  <span style="color:#f97316">54%</span>
                </div>
                <div style="height:6px; background:#f1f5f9; border-radius:3px; overflow:hidden;">
                  <div style="width:54%; height:100%; background:#f97316;"></div>
                </div>
              </a>
            </div>
          </div>
        </div>

        <!-- Recent Results Table -->
        <h2 class="min-section-title"
          style="font-size:22px; font-weight:700; color:#0f172a; margin-bottom:24px; letter-spacing:-0.01em;">Son
          Nticlr</h2>
        <div class="card"
          style="max-width:100%; padding:0; overflow:hidden; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0, 0, 0, 0.05); border-radius:16px;">
          <div class="result-table-container">
            <table class="result-table">
              <thead>
                <tr>
                  <th>agird</th>
                  <th>Test</th>
                  <th>Sinif</th>
                  <th>Tarix</th>
                  <th>Ntic</th>
                  <th>Status</th>
                  <th>mliyyat</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div style="display:flex; align-items:center; gap:10px;">
                      <div
                        style="width:32px; height:32px; background:#bfdbfe; color:#1e3a8a; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:12px;">
                        H</div>
                      <span>li Hseynov</span>
                    </div>
                  </td>
                  <td>Riyaziyyat Snaq #4</td>
                  <td>10a</td>
                  <td>14 Fev, 14:30</td>
                  <td style="font-weight:700; color:#1e293b;">92%</td>
                  <td><span class="status-badge done">Tamamland</span></td>
                  <td><a href="#teacher-student-detail" class="btn-sm">Bax</a></td>
                </tr>
                <tr>
                  <td>
                    <div style="display:flex; align-items:center; gap:10px;">
                      <div
                        style="width:32px; height:32px; background:#fde68a; color:#92400e; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:12px;">
                        AM</div>
                      <span>Aysel Mmmdova</span>
                    </div>
                  </td>
                  <td>Fizika KSQ 2</td>
                  <td>9c</td>
                  <td>14 Fev, 12:15</td>
                  <td style="font-weight:700; color:#1e293b;">85%</td>
                  <td><span class="status-badge done">Tamamland</span></td>
                  <td><a href="#teacher-student-detail" class="btn-sm">Bax</a></td>
                </tr>
                <tr>
                  <td>
                    <div style="display:flex; align-items:center; gap:10px;">
                      <div
                        style="width:32px; height:32px; background:#e2e8f0; color:#475569; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:12px;">
                        OQ</div>
                      <span>Orxan Quliyev</span>
                    </div>
                  </td>
                  <td>Kimya Snaq</td>
                  <td>10b</td>
                  <td>13 Fev, 09:45</td>
                  <td style="font-weight:700; color:#1e293b;">68%</td>
                  <td><span class="status-badge pending">Davam edir</span></td>
                  <td><a href="#teacher-live-monitor" class="btn-sm">Canl</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </main>
      <footer class="landing-footer">
         2026 AI Test Maker  Teacher Panel
      </footer>
    </section>

    <!-- VIEW: TEACHER STUDENT DETAIL -->
    <section id="teacher-student-detail" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Tlb Analizi</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 1000px;">
        <div id="teacher-analysis-view">
          <!-- Header for student details -->
          <div class="review-header">
            <div>
              <h2 style="margin-bottom:4px; font-size:24px;">Aysel Mmmdova - Fizika KSQ 2</h2>
              <p style="color:#64748b;">14 Fevral 2026  12:15  9c Sinfi</p>
            </div>
            <div style="display:flex; gap:32px;">
              <div class="review-stat">
                <div class="t">Ntic</div>
                <div class="v" style="color:#2563eb; font-size:32px;">85%</div>
              </div>
              <div class="review-stat">
                <div class="t">Vaxt</div>
                <div class="v">35 dq</div>
              </div>
              <div class="review-stat">
                <div class="t">Dzgn</div>
                <div class="v" style="color:#16a34a">17/20</div>
              </div>
            </div>
          </div>

          <!-- Charts (Reusing) -->
          <div class="grid-2" style="margin-bottom:24px;">
            <div class="chart-box">
              <div class="chart-title" style="margin-bottom:12px;">Vaxt daretmsi</div>
              <div style="font-size:15px; color:#64748b; line-height:1.6;">
                 Orta sual vaxt: <b>1 dq 45 san</b><br>
                 n srtli cavab: <b>20 san</b> (Sual 5)<br>
                 n yava cavab: <b>5 dq 10 san</b> (Sual 18) <span
                  style="background:#fee2e2; color:#991b1b; padding:2px 6px; border-radius:4px; font-size:12px;">Diqqt!</span>
              </div>
            </div>
            <div class="chart-box">
              <div class="chart-title" style="margin-bottom:12px;">Mvzu Performans</div>
              <div class="heatmap-grid">
                <div class="heatmap-item" style="background:#22c55e">Dinamika<br>90%</div>
                <div class="heatmap-item" style="background:#3b82f6">Kinematika<br>80%</div>
                <div class="heatmap-item" style="background:#f59e0b">Optika<br>65%</div>
                <div class="heatmap-item" style="background:#22c55e">Elektrik<br>95%</div>
              </div>
            </div>
          </div>

          <!-- Question Analysis List -->
          <h3 style="margin-bottom:20px; color:#1e293b; font-size:20px;">Sual Analizi</h3>
          <div id="teacher-review-questions-list">
            <!-- Populating with static content for now -->
            <div class="review-card correct">
              <div class="q-meta-badges"><span class="badge easy">Asan</span><span class="badge time-ok"> 45s
                  (Normal)</span>
              </div>
              <div style="font-weight:600; margin-bottom:12px; font-size:16px;">1. Nyutonun birinci qanunu ndir?</div>
              <div class="grid-2" style="gap:16px; margin-bottom:12px;">
                <div
                  style="grid-column: 1 / -1; background:#f0fdf4; border:1px solid #bbf7d0; padding:12px; border-radius:8px; color:#15803d; font-weight:500;">
                   Cavab: talt qanunu (Dzgn)</div>
              </div>
            </div>
            <div class="review-card wrong">
              <div class="q-meta-badges"><span class="badge medium">Orta</span><span class="badge time-crit"> 3m 12s
                  (ox
                  Vaxt)</span></div>
              <div style="font-weight:600; margin-bottom:12px; font-size:16px;">2. Linzalarn optik qvvsi dsturu?
              </div>
              <div class="grid-2" style="gap:16px; margin-bottom:12px;">
                <div
                  style="background:#fef2f2; border:1px solid #fecaca; padding:12px; border-radius:8px; color:#b91c1c; font-weight:500;">
                   Cavab: D = f/1</div>
                <div
                  style="background:#f0fdf4; border:1px solid #bbf7d0; padding:12px; border-radius:8px; color:#15803d; font-weight:500;">
                   Dzgn: D = 1/F</div>
              </div>
              <div class="q-explanation"><b>zah:</b> Optik qvv fokus msafsinin trs qiymtin brabrdir.</div>
            </div>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER LIVE MONITOR -->
    <section id="teacher-live-monitor" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Canl zlm: <span style="color:#ef4444"> Live</span></div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 1000px;">
        <div class="page-header">
          <h1>Orxan Quliyev - Kimya Snaq</h1>
          <p>10b Sinfi  Balanma: 09:45  Hazrk sual: 18/25</p>
        </div>
        <div class="charts-container">
          <div class="chart-box">
            <div class="chart-title">Gediat</div>
            <div style="font-size:32px; font-weight:700; color:#2563eb; margin: 10px 0;">72%</div>
            <div style="color:#64748b">Tamamlanb</div>
          </div>
          <div class="chart-box">
            <div class="chart-title">Vaxt</div>
            <div style="font-size:32px; font-weight:700; color:#0f172a; margin: 10px 0;">28:15</div>
            <div style="color:#64748b">Ken vaxt</div>
          </div>
        </div>
        <div style="margin-top:24px; padding:16px; background:#f8fafc; border-radius:12px; border:1px solid #e2e8f0;">
          <h3 style="margin-bottom:12px;">Son Hrktlr</h3>
          <div style="font-size:14px; color:#475569; display:flex; flex-direction:column; gap:8px;">
            <div>10:12 - Sual 17 cavablandrld (2 dq)</div>
            <div>10:10 - Sual 16 cavablandrld (45 san)</div>
            <div>10:09 - Sual 15 cavablandrld (1 dq)</div>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER ACTIVE TESTS -->
    <section id="teacher-active-tests" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo" style="display:flex; align-items:center; gap:8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            <span style="font-weight:400">Geri</span>
          </a>
          <div class="logo">Aktiv Testlr</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #fafbfc; padding: 48px 32px 100px;">
        <div style="margin-bottom: 40px;">
          <h1 style="font-size:32px; font-weight:700; color:#0f172a; margin-bottom:8px; letter-spacing:-0.02em;">Cari
            mtahanlar</h1>
          <p style="color:#64748b; font-size:16px; line-height:1.6;">Hazrda davam edn testlri izlyin v idar edin.
          </p>
        </div>

        <div class="grid-2" style="gap:24px;">
          <!-- Test Card 1 -->
          <div
            style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:28px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.25s; cursor:pointer; position:relative; overflow:hidden;">
            <!-- Accent Bar -->
            <div
              style="position:absolute; top:0; left:0; width:4px; height:100%; background:linear-gradient(180deg, #3b82f6, #2563eb);">
            </div>

            <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:20px;">
              <div>
                <div
                  style="font-size:12px; font-weight:600; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:8px;">
                  Riyaziyyat</div>
                <h3 style="font-size:20px; font-weight:700; color:#0f172a; margin:0; line-height:1.3;">Unit 4: Kvadrat
                  Tnliklr</h3>
              </div>
              <span
                style="padding:6px 12px; border-radius:20px; font-size:11px; font-weight:700; background:#dcfce7; color:#166534; text-transform:uppercase; letter-spacing:0.05em;">Aktiv</span>
            </div>

            <div
              style="display:flex; align-items:center; gap:8px; margin-bottom:16px; padding:12px; background:#f8fafc; border-radius:10px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
              <span style="font-size:14px; color:#475569; font-weight:500;">9-cu sinif</span>
            </div>

            <div
              style="display:grid; grid-template-columns:1fr 1fr; gap:16px; padding-top:16px; border-top:1px solid #f1f5f9;">
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  Kod</div>
                <div style="font-size:18px; font-weight:700; color:#2563eb; font-family:monospace;">839210</div>
              </div>
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  tirak</div>
                <div style="font-size:18px; font-weight:700; color:#0f172a;">15</div>
              </div>
            </div>

            <div style="margin-top:20px; padding-top:16px; border-top:1px solid #f1f5f9; display:flex; gap:8px;">
              <button
                style="flex:1; padding:10px 16px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; font-size:13px; font-weight:600; color:#475569; cursor:pointer; transition:all 0.2s;">Bax</button>
              <button
                style="flex:1; padding:10px 16px; background:linear-gradient(135deg, #3b82f6, #2563eb); border:none; border-radius:10px; font-size:13px; font-weight:600; color:white; cursor:pointer; transition:all 0.2s; box-shadow:0 2px 8px rgba(59,130,246,0.3);">Canl
                zl</button>
            </div>
          </div>

          <!-- Test Card 2 -->
          <div
            style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:28px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.25s; cursor:pointer; position:relative; overflow:hidden;">
            <!-- Accent Bar -->
            <div
              style="position:absolute; top:0; left:0; width:4px; height:100%; background:linear-gradient(180deg, #f97316, #ea580c);">
            </div>

            <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:20px;">
              <div>
                <div
                  style="font-size:12px; font-weight:600; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:8px;">
                  Fizika</div>
                <h3 style="font-size:20px; font-weight:700; color:#0f172a; margin:0; line-height:1.3;">Mexanika
                  Qanunlar</h3>
              </div>
              <span
                style="padding:6px 12px; border-radius:20px; font-size:11px; font-weight:700; background:#dcfce7; color:#166534; text-transform:uppercase; letter-spacing:0.05em;">Aktiv</span>
            </div>

            <div
              style="display:flex; align-items:center; gap:8px; margin-bottom:16px; padding:12px; background:#f8fafc; border-radius:10px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
              <span style="font-size:14px; color:#475569; font-weight:500;">10-cu sinif</span>
            </div>

            <div class="grid-2" style="gap:16px; padding-top:16px; border-top:1px solid #f1f5f9;">
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  Kod</div>
                <div style="font-size:18px; font-weight:700; color:#2563eb; font-family:monospace;">450122</div>
              </div>
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  tirak</div>
                <div style="font-size:18px; font-weight:700; color:#0f172a;">22</div>
              </div>
            </div>

            <div style="margin-top:20px; padding-top:16px; border-top:1px solid #f1f5f9; display:flex; gap:8px;">
              <button
                style="flex:1; padding:10px 16px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; font-size:13px; font-weight:600; color:#475569; cursor:pointer; transition:all 0.2s;">Bax</button>
              <button
                style="flex:1; padding:10px 16px; background:linear-gradient(135deg, #f97316, #ea580c); border:none; border-radius:10px; font-size:13px; font-weight:600; color:white; cursor:pointer; transition:all 0.2s; box-shadow:0 2px 8px rgba(249,115,22,0.3);">Canl
                zl</button>
            </div>
          </div>

          <!-- Add New Test Card -->
          <div
            style="background:linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border:2px dashed #cbd5e1; border-radius:16px; padding:28px; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:320px; cursor:pointer; transition:all 0.25s;">
            <div
              style="width:64px; height:64px; background:white; border-radius:50%; display:flex; align-items:center; justify-content:center; margin-bottom:16px; box-shadow:0 4px 12px rgba(0,0,0,0.08);">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                stroke="#3b82f6" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
            </div>
            <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0 0 8px 0;">Yeni Test Yarat</h3>
            <p style="font-size:14px; color:#64748b; margin:0; text-align:center; line-height:1.5;">AI kmyi il yeni
              imtahan<br>yaradn v paylan</p>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER STUDENT LIST -->
    <section id="teacher-student-list" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo" style="display:flex; align-items:center; gap:8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            <span style="font-weight:400">Geri</span>
          </a>
          <div class="logo">Btn agirdlr</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #fafbfc; padding: 48px 32px 100px;">
        <!-- Header with Search -->
        <div
          style="display:flex; justify-content:space-between; align-items:center; margin-bottom:40px; flex-wrap:wrap; gap:20px;">
          <div>
            <h1 style="font-size:32px; font-weight:700; color:#0f172a; margin-bottom:8px; letter-spacing:-0.02em;">48
              tirak</h1>
            <p style="color:#64748b; font-size:16px; line-height:1.6; margin:0;">Btn agirdlrin performansn izlyin
              v idar edin.</p>
          </div>
          <div style="position:relative;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
              stroke="#94a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              style="position:absolute; left:14px; top:50%; transform:translateY(-50%);">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input type="text" placeholder="agird axtar..."
              style="padding:12px 16px 12px 44px; border:1px solid #e5e7eb; border-radius:12px; width:280px; font-size:15px; font-family:inherit; background:white; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.2s;">
          </div>
        </div>

        <!-- Stats Overview -->
        <div
          style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:20px; margin-bottom:40px;">
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">mumi agird</div>
            <div style="font-size:32px; font-weight:700; color:#0f172a;">48</div>
          </div>
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">Orta Performans</div>
            <div style="font-size:32px; font-weight:700; color:#16a34a;">78%</div>
          </div>
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">Aktiv Bu Hft</div>
            <div style="font-size:32px; font-weight:700; color:#3b82f6;">32</div>
          </div>
        </div>

        <!-- Student Cards Grid -->
        <div style="display:grid; grid-template-columns:repeat(auto-fill, minmax(320px, 1fr)); gap:20px;">
          <!-- Student Card 1 -->
          <div
            style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.25s; cursor:pointer;">
            <div style="display:flex; align-items:start; gap:16px; margin-bottom:20px;">
              <!-- Avatar -->
              <div
                style="width:56px; height:56px; background:linear-gradient(135deg, #3b82f6, #2563eb); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:20px; font-weight:700; flex-shrink:0;">
                H</div>
              <div style="flex:1;">
                <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">li Hseynov</h3>
                <div style="display:flex; align-items:center; gap:8px;">
                  <span style="font-size:13px; color:#64748b; font-weight:500;">10a sinif</span>
                  <span style="width:4px; height:4px; background:#cbd5e1; border-radius:50%;"></span>
                  <span style="font-size:13px; color:#16a34a; font-weight:600;">Bugn aktiv</span>
                </div>
              </div>
            </div>

            <!-- Performance Bar -->
            <div style="margin-bottom:16px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                <span style="font-size:12px; color:#64748b; font-weight:600;">Ortalama Performans</span>
                <span style="font-size:14px; color:#16a34a; font-weight:700;">88%</span>
              </div>
              <div style="height:8px; background:#f1f5f9; border-radius:4px; overflow:hidden;">
                <div
                  style="width:88%; height:100%; background:linear-gradient(90deg, #16a34a, #22c55e); border-radius:4px;">
                </div>
              </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid-2"
              style="gap:12px; padding:16px 0; border-top:1px solid #f1f5f9; border-bottom:1px solid #f1f5f9; margin-bottom:16px;">
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  Testlr</div>
                <div style="font-size:18px; font-weight:700; color:#0f172a;">12</div>
              </div>
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  n Yax</div>
                <div style="font-size:18px; font-weight:700; color:#16a34a;">95%</div>
              </div>
            </div>

            <a href="#teacher-student-profile"
              style="display:block; width:100%; padding:10px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; text-align:center; font-size:14px; font-weight:600; color:#475569; text-decoration:none; transition:all 0.2s;">Profili
              Bax</a>
          </div>

          <!-- Student Card 2 -->
          <div
            style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.25s; cursor:pointer;">
            <div style="display:flex; align-items:start; gap:16px; margin-bottom:20px;">
              <!-- Avatar -->
              <div
                style="width:56px; height:56px; background:linear-gradient(135deg, #a855f7, #9333ea); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:20px; font-weight:700; flex-shrink:0;">
                AM</div>
              <div style="flex:1;">
                <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Aysel Mmmdova</h3>
                <div style="display:flex; align-items:center; gap:8px;">
                  <span style="font-size:13px; color:#64748b; font-weight:500;">9c sinif</span>
                  <span style="width:4px; height:4px; background:#cbd5e1; border-radius:50%;"></span>
                  <span style="font-size:13px; color:#16a34a; font-weight:600;">Bugn aktiv</span>
                </div>
              </div>
            </div>

            <!-- Performance Bar -->
            <div style="margin-bottom:16px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                <span style="font-size:12px; color:#64748b; font-weight:600;">Ortalama Performans</span>
                <span style="font-size:14px; color:#2563eb; font-weight:700;">82%</span>
              </div>
              <div style="height:8px; background:#f1f5f9; border-radius:4px; overflow:hidden;">
                <div
                  style="width:82%; height:100%; background:linear-gradient(90deg, #2563eb, #3b82f6); border-radius:4px;">
                </div>
              </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid-2"
              style="gap:12px; padding:16px 0; border-top:1px solid #f1f5f9; border-bottom:1px solid #f1f5f9; margin-bottom:16px;">
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  Testlr</div>
                <div style="font-size:18px; font-weight:700; color:#0f172a;">9</div>
              </div>
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  n Yax</div>
                <div style="font-size:18px; font-weight:700; color:#16a34a;">91%</div>
              </div>
            </div>

            <a href="#teacher-student-profile"
              style="display:block; width:100%; padding:10px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; text-align:center; font-size:14px; font-weight:600; color:#475569; text-decoration:none; transition:all 0.2s;">Profili
              Bax</a>
          </div>

          <!-- Student Card 3 -->
          <div
            style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.05); transition:all 0.25s; cursor:pointer;">
            <div style="display:flex; align-items:start; gap:16px; margin-bottom:20px;">
              <!-- Avatar -->
              <div
                style="width:56px; height:56px; background:linear-gradient(135deg, #f97316, #ea580c); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:20px; font-weight:700; flex-shrink:0;">
                VK</div>
              <div style="flex:1;">
                <h3 style="font-size:18px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Vsal Krimov</h3>
                <div style="display:flex; align-items:center; gap:8px;">
                  <span style="font-size:13px; color:#64748b; font-weight:500;">11b sinif</span>
                  <span style="width:4px; height:4px; background:#cbd5e1; border-radius:50%;"></span>
                  <span style="font-size:13px; color:#64748b; font-weight:600;">Dnn aktiv</span>
                </div>
              </div>
            </div>

            <!-- Performance Bar -->
            <div style="margin-bottom:16px;">
              <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                <span style="font-size:12px; color:#64748b; font-weight:600;">Ortalama Performans</span>
                <span style="font-size:14px; color:#f97316; font-weight:700;">65%</span>
              </div>
              <div style="height:8px; background:#f1f5f9; border-radius:4px; overflow:hidden;">
                <div
                  style="width:65%; height:100%; background:linear-gradient(90deg, #f97316, #fb923c); border-radius:4px;">
                </div>
              </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid-2"
              style="gap:12px; padding:16px 0; border-top:1px solid #f1f5f9; border-bottom:1px solid #f1f5f9; margin-bottom:16px;">
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  Testlr</div>
                <div style="font-size:18px; font-weight:700; color:#0f172a;">7</div>
              </div>
              <div>
                <div
                  style="font-size:11px; color:#94a3b8; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
                  n Yax</div>
                <div style="font-size:18px; font-weight:700; color:#16a34a;">78%</div>
              </div>
            </div>

            <a href="#teacher-student-profile"
              style="display:block; width:100%; padding:10px; background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; text-align:center; font-size:14px; font-weight:600; color:#475569; text-decoration:none; transition:all 0.2s;">Profili
              Bax</a>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER STUDENT PROFILE -->
    <section id="teacher-student-profile" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#teacher-student-list" class="logo" style="display:flex; align-items:center; gap:8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            <span style="font-weight:400">Geri</span>
          </a>
          <div class="logo">agird Profili</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #f8fafc; padding: 40px 32px 100px;">
        <!-- Profile Banner -->
        <div class="profile-banner">
          <div class="profile-avatar-large">H</div>
          <div style="flex:1;">
            <div style="display:flex; align-items:center; gap:12px; margin-bottom:6px;">
              <h1 style="font-size:32px; font-weight:800; color:#0f172a; margin:0; letter-spacing:-0.03em;">li Hseynov
              </h1>
              <span class="badge-status active">Bugn aktiv</span>
            </div>
            <p style="color:#64748b; font-size:16px; margin:0;">10a Sinfi  ID: #9923  quliyev.ali@example.com</p>
          </div>
          <div style="text-align:right;">
            <div
              style="font-size:12px; color:#64748b; font-weight:700; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px;">
              Qeydiyyat</div>
            <div style="font-size:16px; font-weight:600; color:#0f172a;">15 Sentyabr, 2025</div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Left Column: Stats & Mastery -->
          <div style="display:flex; flex-direction:column; gap:24px;">
            <div class="detail-card">
              <h3>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 2v20M2 12h20" />
                </svg>
                mumi Performans
              </h3>
              <div class="grid-2" style="gap:20px;">
                <div style="padding:20px; background:#eff6ff; border-radius:16px; border:1px solid #dbeafe;">
                  <div style="font-size:13px; color:#1e40af; font-weight:600; margin-bottom:8px;">Ortalama Bal</div>
                  <div style="font-size:32px; font-weight:800; color:#1e40af;">88.5%</div>
                  <div style="font-size:12px; color:#3b82f6; margin-top:4px;"> 4% ken aydan</div>
                </div>
                <div style="padding:20px; background:#f0fdf4; border-radius:16px; border:1px solid #dcfce7;">
                  <div style="font-size:13px; color:#166534; font-weight:600; margin-bottom:8px;">Bitmi Testlr</div>
                  <div style="font-size:32px; font-weight:800; color:#166534;">14 / 15</div>
                  <div style="font-size:12px; color:#22c55e; margin-top:4px;">93% tamamlama</div>
                </div>
              </div>
            </div>

            <div class="detail-card">
              <h3>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                  <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                </svg>
                Fnn Masterliyi
              </h3>
              <div class="mastery-row">
                <div class="mastery-info">
                  <span>Riyaziyyat</span>
                  <span>92%</span>
                </div>
                <div class="mastery-bar">
                  <div class="mastery-fill" style="width: 92%; background: #3b82f6;"></div>
                </div>
              </div>
              <div class="mastery-row">
                <div class="mastery-info">
                  <span>Fizika</span>
                  <span>85%</span>
                </div>
                <div class="mastery-bar">
                  <div class="mastery-fill" style="width: 85%; background: #2563eb;"></div>
                </div>
              </div>
              <div class="mastery-row">
                <div class="mastery-info">
                  <span>Azrbaycan dili</span>
                  <span>78%</span>
                </div>
                <div class="mastery-bar">
                  <div class="mastery-fill" style="width: 78%; background: #16a34a;"></div>
                </div>
              </div>
              <div class="mastery-row">
                <div class="mastery-info">
                  <span>ngilis dili</span>
                  <span>95%</span>
                </div>
                <div class="mastery-bar">
                  <div class="mastery-fill" style="width: 95%; background: #a855f7;"></div>
                </div>
              </div>
            </div>

            <div class="detail-card">
              <h3>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
                  <line x1="12" y1="9" x2="12" y2="13" />
                  <line x1="12" y1="17" x2="12.01" y2="17" />
                </svg>
                Zif Mvzular <span style="font-weight:400; font-size:12px; color:#64748b; margin-left:auto;">nkiaf
                  lazmdr</span>
              </h3>
              <div style="display:flex; flex-wrap:wrap; gap:10px;">
                <span
                  style="padding:8px 14px; background:#fff1f2; border:1px solid #fecdd3; color:#e11d48; border-radius:10px; font-size:14px; font-weight:500;">Loqarifmlr</span>
                <span
                  style="padding:8px 14px; background:#fff1f2; border:1px solid #fecdd3; color:#e11d48; border-radius:10px; font-size:14px; font-weight:500;">Optika
                  (Linzalar)</span>
                <span
                  style="padding:8px 14px; background:#fff1f2; border:1px solid #fecdd3; color:#e11d48; border-radius:10px; font-size:14px; font-weight:500;">Mrkkb
                  Cmllr</span>
              </div>
            </div>
          </div>

          <!-- Right Column: History -->
          <div class="detail-card">
            <h3>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 8v4l3 3" />
                <circle cx="12" cy="12" r="10" />
              </svg>
              Son mtahan Tarixsi
            </h3>
            <div class="history-list">
              <div class="history-item">
                <div>
                  <div style="font-weight:700; color:#0f172a; margin-bottom:2px;">Kvadrat Tnliklr Sna</div>
                  <div style="font-size:12px; color:#64748b;">14 Fev, 2026  Riyaziyyat</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:16px; font-weight:800; color:#16a34a;">95%</div>
                  <div style="font-size:11px; color:#94a3b8;">15/15 dzgn</div>
                </div>
              </div>
              <div class="history-item">
                <div>
                  <div style="font-weight:700; color:#0f172a; margin-bottom:2px;">Dinamika KSQ</div>
                  <div style="font-size:12px; color:#64748b;">10 Fev, 2026  Fizika</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:16px; font-weight:800; color:#2563eb;">82%</div>
                  <div style="font-size:11px; color:#94a3b8;">16/20 dzgn</div>
                </div>
              </div>
              <div class="history-item">
                <div>
                  <div style="font-weight:700; color:#0f172a; margin-bottom:2px;">Sz Yaradcl</div>
                  <div style="font-size:12px; color:#64748b;">05 Fev, 2026  Azrbaycan dili</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:16px; font-weight:800; color:#16a34a;">88%</div>
                  <div style="font-size:11px; color:#94a3b8;">22/25 dzgn</div>
                </div>
              </div>
              <div class="history-item">
                <div>
                  <div style="font-weight:700; color:#0f172a; margin-bottom:2px;">Present Perfect Quiz</div>
                  <div style="font-size:12px; color:#64748b;">02 Fev, 2026  ngilis dili</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:16px; font-weight:800; color:#a855f7;">100%</div>
                  <div style="font-size:11px; color:#94a3b8;">10/10 dzgn</div>
                </div>
              </div>
              <div class="history-item">
                <div>
                  <div style="font-weight:700; color:#0f172a; margin-bottom:2px;">mumi Snaq #2</div>
                  <div style="font-size:12px; color:#64748b;">28 Yan, 2026  Qarq</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:16px; font-weight:800; color:#f97316;">72%</div>
                  <div style="font-size:11px; color:#94a3b8;">36/50 dzgn</div>
                </div>
              </div>
            </div>
            <button
              style="width:100%; margin-top:20px; padding:12px; background:transparent; border:1px dashed #cbd5e1; border-radius:12px; color:#64748b; font-weight:600; cursor:pointer;">Btn
              tarixni ykl (PDF)</button>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER TOPICS DETAIL -->
    <!-- VIEW: TEACHER CREATE TEST -->
    <section id="teacher-create-test" class="view">
      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo" style="display:flex; align-items:center; gap:8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            <span style="font-weight:400">Geri</span>
          </a>
          <div class="logo">Test Konstruktoru</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #f8fafc; padding: 40px 32px 100px;">

        <!-- STAGE 1: Test Settings -->
        <div id="teacher-test-settings-stage">
          <div class="page-header" style="text-align: center; margin-bottom: 40px;">
            <h1 style="font-size: 32px; letter-spacing: -0.03em;">mtahan Mlumatlar</h1>
            <p style="font-size: 16px; max-width: 520px; margin: 8px auto 0; color: #64748b;">mtahann sas
              parametrlrini tyin edin.</p>
          </div>

          <div class="form-card"
            style="max-width: 600px; margin: 0 auto; background: white; padding: 40px; border-radius: 24px; box-shadow: 0 10px 25px rgba(0,0,0,0.03);">
            <div class="form-group">
              <label>Fnn</label>
              <div class="searchable-select" id="builder-fen-container">
                <input type="text" id="builder-fen-input" placeholder="Fnn sein..." autocomplete="off"
                  style="padding: 14px 16px; border-radius: 12px; border: 1px solid #e2e8f0; width: 100%; font-size: 15px;">
                <div class="select-dropdown" id="builder-fen-dropdown" style="top: calc(100% + 8px);"></div>
                <input type="hidden" id="builder-fen" name="fen">
              </div>
            </div>

            <div class="grid-2" style="gap: 20px;">
              <div class="form-group">
                <label>Sinif</label>
                <select id="builder-sinif"
                  style="padding: 14px 16px; border-radius: 12px; border: 1px solid #e2e8f0; width: 100%; font-size: 15px; appearance: none; background: #f8fafc;">
                  <option value="">Sein</option>
                  <option value="5">5-ci sinif</option>
                  <option value="6">6-c sinif</option>
                  <option value="7">7-ci sinif</option>
                  <option value="8">8-ci sinif</option>
                  <option value="9">9-cu sinif</option>
                  <option value="10">10-cu sinif</option>
                  <option value="11">11-ci sinif</option>
                </select>
              </div>
              <div class="form-group">
                <label>Vaxt (dqiq)</label>
                <input type="number" id="builder-vaxt" value="45"
                  style="padding: 14px 16px; border-radius: 12px; border: 1px solid #e2e8f0; width: 100%; font-size: 15px;">
              </div>
            </div>

            <div class="form-group">
              <label>mtahann Ad</label>
              <input type="text" id="builder-title" placeholder="Msln: Unit 4 KSQ, Yarmillik snaq v s."
                style="padding: 14px 16px; border-radius: 12px; border: 1px solid #e2e8f0; width: 100%; font-size: 15px;">
            </div>

            <button type="button" id="btn-start-builder"
              style="width: 100%; padding: 16px; background: #2563eb; color: white; border: none; border-radius: 14px; font-size: 16px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px;">
              Davam et 
            </button>
          </div>
        </div>

        <!-- STAGE 2: Question Builder -->
        <div id="teacher-test-builder-stage" style="display:none; max-width: 800px; margin: 0 auto;">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:32px;">
            <div>
              <h2 id="builder-meta-title" style="font-size:24px; font-weight:800; color:#0f172a; margin-bottom:4px;">
                Suallarn Hazrlanmas</h2>
              <p id="builder-meta-desc" style="font-size:14px; color:#64748b;">Riyaziyyat  9-cu sinif</p>
            </div>
            <div style="display:flex; gap:12px;">
              <button type="button" id="btn-builder-back"
                style="padding:10px 18px; background:white; border:1px solid #e2e8f0; border-radius:12px; font-size:14px; font-weight:600; color:#475569; cursor:pointer;">Parametrlr</button>
              <button type="button" id="btn-builder-publish"
                style="padding:10px 18px; background:#16a34a; border:none; border-radius:12px; font-size:14px; font-weight:600; color:white; cursor:pointer; box-shadow: 0 4px 12px rgba(22, 163, 74, 0.2);">Drc
                Et</button>
            </div>
          </div>

          <div id="builder-questions-list">
            <!-- Questions injected here -->
          </div>

          <button type="button" id="btn-add-question"
            style="width:100%; padding:16px; background:white; border:2px dashed #cbd5e1; border-radius:16px; color:#64748b; font-weight:700; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; transition:all 0.2s;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Yeni Sual lav Et
          </button>
        </div>

        <!-- STAGE 3: Success / Code -->
        <div id="teacher-test-publish-stage" style="display:none; text-align:center; padding: 60px 0;">
          <div
            style="width:80px; height:80px; background:#dcfce7; color:#166534; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 24px; animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </div>
          <h1 style="font-size:28px; font-weight:800; color:#0f172a; margin-bottom:12px;">Test Uurla Yaradld!</h1>
          <p style="color:#64748b; margin-bottom:32px;">agirdlrl paylamaq n aadak kodu kopyalayn.</p>

          <div
            style="background:white; padding:32px; border-radius:24px; border:1px solid #e2e8f0; display:inline-block; min-width:300px; box-shadow:0 4px 12px rgba(0,0,0,0.05);">
            <div
              style="font-size:12px; color:#94a3b8; font-weight:700; text-transform:uppercase; letter-spacing:0.1em; margin-bottom:12px;">
              mtahan Kodu</div>
            <div style="font-size:48px; font-weight:800; color:#2563eb; letter-spacing:4px; font-family:monospace;"
              id="published-test-code">#459203</div>
          </div>

          <div style="margin-top:40px;">
            <a href="#neticeler" class="btn"
              style="width:auto; padding:14px 32px; background:#0f172a; border-radius:12px; text-decoration:none;">Panel
              qayt</a>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: TEACHER TOPICS DETAIL -->
    <section id="teacher-topics-detail" class="view">

      <nav class="landing-nav" style="border-bottom: 1px solid #e2e8f0;">
        <div class="landing-nav-inner">
          <a href="#neticeler" class="logo" style="display:flex; align-items:center; gap:8px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            <span style="font-weight:400">Geri</span>
          </a>
          <div class="logo">Mvzu Analizi</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="teacher-dashboard-main" style="background: #fafbfc; padding: 48px 32px 100px;">
        <div style="margin-bottom: 40px;">
          <h1 style="font-size:32px; font-weight:700; color:#0f172a; margin-bottom:8px; letter-spacing:-0.02em;">Fnn
            zr mnimsm</h1>
          <p style="color:#64748b; font-size:16px; line-height:1.6;">Hr fnn v mvzu zr sinif performansn izlyin.
          </p>
        </div>

        <!-- Overall Stats -->
        <div
          style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:20px; margin-bottom:40px;">
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">n Yksk</div>
            <div style="font-size:28px; font-weight:700; color:#16a34a; margin-bottom:4px;">92%</div>
            <div style="font-size:13px; color:#64748b;">Kvadrat Tnliklr</div>
          </div>
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">n Aa</div>
            <div style="font-size:28px; font-weight:700; color:#dc2626; margin-bottom:4px;">45%</div>
            <div style="font-size:13px; color:#64748b;">Loqarifmlr</div>
          </div>
          <div
            style="background:white; padding:24px; border-radius:14px; border:1px solid #e5e7eb; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
            <div style="font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px;">Orta Mnimsm</div>
            <div style="font-size:28px; font-weight:700; color:#3b82f6;">74%</div>
          </div>
        </div>

        <!-- Riyaziyyat Section -->
        <div
          style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:32px; box-shadow:0 1px 3px rgba(0,0,0,0.05); margin-bottom:24px;">
          <div
            style="display:flex; align-items:center; gap:16px; margin-bottom:28px; padding-bottom:20px; border-bottom:2px solid #f1f5f9;">
            <div
              style="width:56px; height:56px; background:linear-gradient(135deg, #3b82f6, #2563eb); border-radius:14px; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="20" x2="18" y2="10"></line>
                <line x1="12" y1="20" x2="12" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="14"></line>
              </svg>
            </div>
            <div style="flex:1;">
              <h2 style="font-size:24px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Riyaziyyat</h2>
              <p style="font-size:14px; color:#64748b; margin:0;">4 mvzu zr performans</p>
            </div>
            <div style="text-align:right;">
              <div style="font-size:12px; color:#64748b; font-weight:600; margin-bottom:4px;">Orta</div>
              <div style="font-size:32px; font-weight:700; color:#2563eb;">74%</div>
            </div>
          </div>

          <div style="display:grid; gap:20px;">
            <!-- Topic 1 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Kvadrat Tnliklr</h3>
                  <div style="font-size:13px; color:#64748b;">48 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#16a34a;">92%</div>
                  <div style="font-size:11px; color:#16a34a; font-weight:600; text-transform:uppercase;">la</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:92%; height:100%; background:linear-gradient(90deg, #16a34a, #22c55e); border-radius:5px;">
                </div>
              </div>
            </div>

            <!-- Topic 2 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Hndsi Silsil</h3>
                  <div style="font-size:13px; color:#64748b;">45 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#16a34a;">88%</div>
                  <div style="font-size:11px; color:#16a34a; font-weight:600; text-transform:uppercase;">la</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:88%; height:100%; background:linear-gradient(90deg, #16a34a, #22c55e); border-radius:5px;">
                </div>
              </div>
            </div>

            <!-- Topic 3 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Triqonometriya</h3>
                  <div style="font-size:13px; color:#64748b;">42 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#eab308;">70%</div>
                  <div style="font-size:11px; color:#eab308; font-weight:600; text-transform:uppercase;">Orta</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:70%; height:100%; background:linear-gradient(90deg, #eab308, #fbbf24); border-radius:5px;">
                </div>
              </div>
            </div>

            <!-- Topic 4 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Loqarifmlr</h3>
                  <div style="font-size:13px; color:#64748b;">38 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#dc2626;">45%</div>
                  <div style="font-size:11px; color:#dc2626; font-weight:600; text-transform:uppercase;">Zif</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:45%; height:100%; background:linear-gradient(90deg, #dc2626, #ef4444); border-radius:5px;">
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Fizika Section -->
        <div
          style="background:white; border:1px solid #e5e7eb; border-radius:16px; padding:32px; box-shadow:0 1px 3px rgba(0,0,0,0.05);">
          <div
            style="display:flex; align-items:center; gap:16px; margin-bottom:28px; padding-bottom:20px; border-bottom:2px solid #f1f5f9;">
            <div
              style="width:56px; height:56px; background:linear-gradient(135deg, #f97316, #ea580c); border-radius:14px; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                </path>
              </svg>
            </div>
            <div style="flex:1;">
              <h2 style="font-size:24px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Fizika</h2>
              <p style="font-size:14px; color:#64748b; margin:0;">3 mvzu zr performans</p>
            </div>
            <div style="text-align:right;">
              <div style="font-size:12px; color:#64748b; font-weight:600; margin-bottom:4px;">Orta</div>
              <div style="font-size:32px; font-weight:700; color:#f97316;">74%</div>
            </div>
          </div>

          <div style="display:grid; gap:20px;">
            <!-- Topic 1 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Elektrik</h3>
                  <div style="font-size:13px; color:#64748b;">40 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#16a34a;">90%</div>
                  <div style="font-size:11px; color:#16a34a; font-weight:600; text-transform:uppercase;">la</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:90%; height:100%; background:linear-gradient(90deg, #16a34a, #22c55e); border-radius:5px;">
                </div>
              </div>
            </div>

            <!-- Topic 2 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Dinamika</h3>
                  <div style="font-size:13px; color:#64748b;">44 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#3b82f6;">78%</div>
                  <div style="font-size:11px; color:#3b82f6; font-weight:600; text-transform:uppercase;">Yax</div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:78%; height:100%; background:linear-gradient(90deg, #3b82f6, #60a5fa); border-radius:5px;">
                </div>
              </div>
            </div>

            <!-- Topic 3 -->
            <div style="padding:20px; background:#fafbfc; border-radius:12px; border:1px solid #f1f5f9;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                <div>
                  <h3 style="font-size:16px; font-weight:700; color:#0f172a; margin:0 0 4px 0;">Optika</h3>
                  <div style="font-size:13px; color:#64748b;">35 agird test edib</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:24px; font-weight:700; color:#f97316;">54%</div>
                  <div style="font-size:11px; color:#f97316; font-weight:600; text-transform:uppercase;">Tkmilldirm
                  </div>
                </div>
              </div>
              <div style="height:10px; background:#e5e7eb; border-radius:5px; overflow:hidden;">
                <div
                  style="width:54%; height:100%; background:linear-gradient(90deg, #f97316, #fb923c); border-radius:5px;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </section>

    <section id="student-dashboard" class="view">
      <!-- Minimal Header -->
      <nav class="landing-nav"
        style="background: rgba(255,255,255,0.8); backdrop-filter: blur(8px); border-bottom: 1px solid #f1f5f9;">
        <div class="landing-nav-inner" style="max-width: 900px;">
          <a href="#" class="logo" style="font-size: 18px;">Antigravity <span
              style="color:#94a3b8; font-weight:400">Student</span></a>
          <div class="nav-buttons">
            <a href="#login" class="btn-nav outline" style="border:none; color:#64748b;">x</a>
          </div>
        </div>
      </nav>

      <main class="student-dashboard-main" style="max-width: 900px; padding-top: 40px;">

        <!-- Welcome Section -->
        <div class="flex-between" style="align-items:center; margin-bottom: 24px; flex-wrap: wrap; gap:16px;">
          <div>
            <h1 style="font-size: 32px; font-weight: 700; letter-spacing: -0.02em; margin-bottom: 8px;">Xo gldin,
              Knan</h1>
            <p style="color: #64748b; font-size: 16px;">Bugn yrnmk n la gndr. Performansn artmaqdadr.</p>
          </div>
          <div class="group-selector">
            <div class="group-chip active">I Qrup</div>
            <div class="group-chip">II Qrup</div>
            <div class="group-chip">III Qrup</div>
            <div class="group-chip">IV Qrup</div>
          </div>
        </div>

        <!-- State Exam Tracking Section -->
        <div class="minimal-section">
          <div class="section-label">mtahan Nticlri</div>
          <div class="exam-result-grid">
            <!-- Buraxl Exam Card -->
            <a href="#student-result-detail-buraxilis" class="exam-card">
              <div class="exam-card-type">Dvlt mtahan</div>
              <h3 class="exam-card-title">Buraxl mtahan</h3>
              <div class="exam-score-box">
                <span class="exam-score-current">245</span>
                <span class="exam-score-max">/ 300</span>
              </div>
              <div class="exam-progress-bg">
                <div class="exam-progress-fill" style="width: 81.6%;"></div>
              </div>
              <div style="font-size:12px; color:#64748b; display:flex; justify-content:space-between;">
                <span>Az dili, Riyaziyyat, ngilis dili</span>
                <span style="font-weight:700; color:#16a34a;">+12 son snaq</span>
              </div>
            </a>

            <!-- Blok Exam Card -->
            <a href="#student-result-detail-blok" class="exam-card">
              <div class="exam-card-type">xtisas mtahan</div>
              <h3 class="exam-card-title">Blok mtahan</h3>
              <div class="group-tag">I Qrup</div>
              <div class="exam-score-box">
                <span class="exam-score-current">312</span>
                <span class="exam-score-max">/ 400</span>
              </div>
              <div class="exam-progress-bg">
                <div class="exam-progress-fill"
                  style="width: 78%; background: linear-gradient(90deg, #f97316, #fb923c);"></div>
              </div>
              <div style="font-size:12px; color:#64748b; display:flex; justify-content:space-between;">
                <span>Riyaziyyat, Fizika, Kimya</span>
                <span style="font-weight:700; color:#3b82f6;">Hdf: 350+</span>
              </div>
            </a>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="minimal-section">
          <div class="section-label">Srtli Keid</div>
          <div class="join-row-card">
            <div style="padding-left: 12px; color:#cbd5e1;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12a9 9 0 1 1-9-9c5 2 9 7 9 9Z" />
                <path d="M3.6 9h16.8" />
                <path d="M3.6 15h16.8" />
                <path d="M11.5 3a17 17 0 0 0 0 18" />
                <path d="M12.5 3a17 17 0 0 1 0 18" />
              </svg>
            </div>
            <input type="text" id="quick-exam-code" class="join-input" placeholder="mtahan kodunu daxil et..."
              maxlength="6">
            <button id="btn-quick-join" class="btn-join-minimal">Test Bala</button>
          </div>
        </div>

        <!-- Main Stats -->
        <div class="minimal-section">
          <div class="minimal-grid" style="grid-template-columns: repeat(2, 1fr);">
            <a href="#student-goal-details" class="modern-stat-card">
              <div>
                <div class="ms-val">85%</div>
                <div class="ms-label">Hftlik Hdf</div>
              </div>
              <div
                style="width: 52px; height: 52px; display:flex; align-items:center; justify-content:center; position:relative;">
                <svg width="52" height="52" viewBox="0 0 36 36">
                  <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none"
                    stroke="#f1f5f9" stroke-width="3" />
                  <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none"
                    stroke="#f97316" stroke-width="3" stroke-dasharray="85, 100" />
                </svg>
                <div style="position:absolute; font-size:10px; font-weight:700; color:#f97316">85%</div>
              </div>
            </a>
            <a href="#student-completion-details" class="modern-stat-card">
              <div>
                <div class="ms-val">12</div>
                <div class="ms-label">Tamamlanm Test</div>
              </div>
              <div style="text-align:right;">
                <div
                  style="color: #16a34a; background: #dcfce7; padding: 4px 10px; border-radius: 50px; font-size: 11px; font-weight: 700; display:inline-block; margin-bottom:4px;">
                  +2 bu gn</div>
                <div style="font-size:11px; color:#94a3b8; font-weight:500;">Daha ox </div>
              </div>
            </a>
          </div>
        </div>

        <!-- Feature Grid -->
        <div class="minimal-section">
          <div class="section-label">Altlr</div>
          <div class="minimal-grid" style="grid-template-columns: repeat(3, 1fr);">

            <!-- Card 1: Generate -->
            <a href="#student-generate" class="minimal-card">
              <div class="min-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <path
                    d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                  <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                  <line x1="12" y1="22.08" x2="12" y2="12" />
                </svg>
              </div>
              <div class="min-title">Yarat</div>
              <div class="min-desc">AI il frdi test hazrla.</div>
            </a>

            <!-- Card 2: Results -->
            <a href="#student-results" class="minimal-card">
              <div class="min-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="18" y1="20" x2="18" y2="10" />
                  <line x1="12" y1="20" x2="12" y2="4" />
                  <line x1="6" y1="20" x2="6" y2="14" />
                </svg>
              </div>
              <div class="min-title">Analiz</div>
              <div class="min-desc">Nticlrini yoxla.</div>
            </a>

            <!-- Card 3: Library -->
            <a href="#student-library" class="minimal-card">
              <div class="min-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                  <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                </svg>
              </div>
              <div class="min-title">Kitabxana</div>
              <div class="min-desc">Mllim testlri.</div>
            </a>

          </div>
        </div>

      </main>
    </section>

    <!-- VIEW: EXAM ROOM -->
    <section id="student-exam-room" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <div class="logo">mtahan: <span id="active-exam-title">Riyaziyyat Snaq</span></div>
          <div class="timer-badge" id="exam-timer">29:59</div>
        </div>
      </nav>
      <main class="exam-room">
        <div id="exam-questions-container">
          <!-- Loaded via JS -->
          <div class="generating-state visible"><span class="spinner"></span> Suallar yklnir...</div>
        </div>
        <button class="btn-submit" id="btn-finish-exam"
          style="width:100%; margin-top:32px; background:linear-gradient(135deg, #f97316, #ea580c);">Imtahan
          Tamamla</button>
      </main>
    </section>

    <!-- VIEW: STUDENT RESULTS (ANALYTICS) -->
    <section id="student-results" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Analiz v Nticlr</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 1000px;">

        <!-- DASHBOARD OVERVIEW -->
        <div id="analytics-dashboard" class="analytics-view">
          <div class="page-header">
            <h1>mumi Performans</h1>
            <p>Gcl v zif trflrinizi kf edin, inkiafnz izlyin.</p>
          </div>

          <!-- Top Stats -->
          <div class="analytics-grid">
            <div class="analytics-card">
              <div class="label">mumi Testlr</div>
              <div class="value">12</div>
              <div class="sub">Son 30 gnd +4</div>
            </div>
            <div class="analytics-card">
              <div class="label">Orta Ntic</div>
              <div class="value">78%</div>
              <div class="sub up"> 5% artm</div>
            </div>
            <div class="analytics-card">
              <div class="label">n Gcl Fnn</div>
              <div class="value" style="color:#16a34a">Riyaziyyat</div>
              <div class="sub">92% uur gstricisi</div>
            </div>
            <div class="analytics-card">
              <div class="label">Zif Mvzu</div>
              <div class="value" style="color:#dc2626">Optika</div>
              <div class="sub down">Fizika  45% uur</div>
            </div>
          </div>

          <!-- Charts Area -->
          <div class="charts-container">
            <!-- Progress Chart -->
            <div class="chart-box">
              <div class="chart-header">
                <div class="chart-title">Son 5 mtahan Dinamikas</div>
              </div>
              <div class="simple-bar-chart">
                <div class="bar-group">
                  <div class="bar" style="height: 60%; background:#94a3b8;"></div>
                  <div class="bar-label">Snaq 1</div>
                </div>
                <div class="bar-group">
                  <div class="bar" style="height: 75%; background:#94a3b8;"></div>
                  <div class="bar-label">Snaq 2</div>
                </div>
                <div class="bar-group">
                  <div class="bar" style="height: 68%; background:#cbd5e1;"></div>
                  <div class="bar-label">Snaq 3</div>
                </div>
                <div class="bar-group">
                  <div class="bar" style="height: 85%; background:#3b82f6;"></div>
                  <div class="bar-label">Snaq 4</div>
                </div>
                <div class="bar-group">
                  <div class="bar" style="height: 92%; background:#22c55e;"></div>
                  <div class="bar-label">Bugn</div>
                </div>
              </div>
            </div>

            <!-- Topic Weakness -->
            <div class="chart-box">
              <div class="chart-header">
                <div class="chart-title">Mvzu Analizi</div>
              </div>
              <div>
                <div class="topic-item">
                  <div class="topic-info"><span>Kvadrat Tnliklr</span> <span>95%</span></div>
                  <div class="progress-track">
                    <div class="progress-fill" style="width:95%"></div>
                  </div>
                </div>
                <div class="topic-item">
                  <div class="topic-info"><span>Mexanika</span> <span>82%</span></div>
                  <div class="progress-track">
                    <div class="progress-fill" style="width:82%"></div>
                  </div>
                </div>
                <div class="topic-item">
                  <div class="topic-info"><span>Turular</span> <span>65%</span></div>
                  <div class="progress-track">
                    <div class="progress-fill warning" style="width:65%"></div>
                  </div>
                </div>
                <div class="topic-item">
                  <div class="topic-info"><span>Optika</span> <span>45%</span></div>
                  <div class="progress-track">
                    <div class="progress-fill danger" style="width:45%"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <h2 class="section-title">mtahan Tarixsi</h2>
          <div id="student-results-list">
            <!-- Populated by JS -->
          </div>
        </div>

        <!-- DETAILED TEST ANALYSIS VIEW (Hidden by default) -->
        <div id="test-analysis-view" class="hidden-view">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
            <button id="btn-back-analytics" class="btn-sm" style="background:#f1f5f9; color:#475569;"> Geri</button>
            <div style="display:flex; gap:10px;">
              <button class="btn-sm" onclick="filterAnalysis('all')" id="filter-all"
                style="background:#3b82f6; color:white;">Hams</button>
              <button class="btn-sm" onclick="filterAnalysis('wrong')" id="filter-wrong"
                style="background:#f1f5f9; color:#475569;">Shvlrim</button>
            </div>
          </div>
          <div class="review-header">
            <div>
              <h2 style="margin-bottom:4px; font-size:24px;">Riyaziyyat - Snaq 1</h2>
              <p style="color:#64748b;">10 Fevral 2026  14:30</p>
            </div>
            <div style="display:flex; gap:32px;">
              <div class="review-stat">
                <div class="t">Ntic</div>
                <div class="v" style="color:#2563eb; font-size:32px;">92%</div>
              </div>
              <div class="review-stat">
                <div class="t">Vaxt</div>
                <div class="v">18 dq</div>
              </div>
              <div class="review-stat">
                <div class="t">Dzgn</div>
                <div class="v" style="color:#16a34a">14/15</div>
              </div>
            </div>
          </div>

          <div class="charts-container" style="grid-template-columns: 1fr 1fr; margin-bottom:24px;">
            <div class="chart-box">
              <div class="chart-title" style="margin-bottom:12px;">Vaxt daretmsi</div>
              <div style="font-size:15px; color:#64748b; line-height:1.6;">
                 Orta sual vaxt: <b>1 dq 12 san</b><br>
                 n srtli cavab: <b>15 san</b> (Sual 3)<br>
                 n yava cavab: <b>4 dq 10 san</b> (Sual 12) <span
                  style="background:#fee2e2; color:#991b1b; padding:2px 6px; border-radius:4px; font-size:12px;">Diqqt!</span>
              </div>
            </div>
            <div class="chart-box">
              <div class="chart-title" style="margin-bottom:12px;">Mvzu Performans</div>
              <div class="heatmap-grid">
                <div class="heatmap-item" style="background:#22c55e">Cbr<br>100%</div>
                <div class="heatmap-item" style="background:#3b82f6">Hnds<br>85%</div>
                <div class="heatmap-item" style="background:#22c55e">Funksiyalar<br>95%</div>
                <div class="heatmap-item" style="background:#f59e0b">Statistika<br>60%</div>
              </div>
            </div>
          </div>

          <h3 style="margin-bottom:20px; color:#1e293b; font-size:20px;">Sual Analizi</h3>
          <div id="review-questions-list">
            <!-- Populated by JS -->
          </div>

        </div>

      </main>
    </section>

    <!-- VIEW: STUDENT GENERATE -->
    <section id="student-generate" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Sni ntellektl Yarat</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 650px;">
        <header class="gen-hero">
          <h1>Sn uyun test hazrlayaq</h1>
          <p>Fnn v mvzunu se, sni intellekt sn zl snaq hazrlasn.</p>
          <div style="position:absolute; bottom:-20px; right:-20px; opacity:0.1;">
            <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none"
              stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
              </path>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
              <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
          </div>
        </header>

        <div class="form-card"
          style="margin: 0 auto; width: 100%; max-width: 100%; border: none; box-shadow: 0 4px 24px rgba(0,0,0,0.04); padding: 40px;">
          <form id="student-gen-form">
            <div class="form-group">
              <label style="font-size: 15px; font-weight: 600; color: #1e293b; margin-bottom: 10px;">Hans fnn
                zr?</label>
              <div class="searchable-select">
                <input type="text" id="student-fen-input" placeholder="Axtar: Riyaziyyat, Fizika, Tarix..."
                  autocomplete="off" style="padding: 16px; font-size: 16px; border-radius: 14px; background: #f8fafc;">
                <input type="hidden" id="student-fen-hidden">
                <div class="search-dropdown" id="student-fen-dropdown"></div>
              </div>
            </div>

            <div class="form-group" style="margin-top: 24px;">
              <label style="font-size: 15px; font-weight: 600; color: #1e293b; margin-bottom: 10px;">Xsusi mvzu
                (istee bal)</label>
              <input type="text" id="student-topic" placeholder="Ms: Kvadrat tnliklr, Nyuton qanunlar..."
                style="padding: 16px; font-size: 16px; border-radius: 14px; background: #f8fafc;">
            </div>

            <div style="margin-top: 40px;">
              <button type="button" id="btn-student-gen" class="btn"
                style="background:linear-gradient(135deg, #f97316, #ea580c); padding: 18px; font-size: 17px; border-radius: 16px; box-shadow: 0 10px 25px rgba(234, 88, 12, 0.25);">
                Testi Hazrla v Bala
              </button>
            </div>
          </form>
        </div>
      </main>
    </section>

    <!-- VIEW: LIBRARY -->
    <section id="student-library" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Bilgi Kitabxanas</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 1000px;">

        <header class="library-hero">
          <h1>Xo glmisiniz!</h1>
          <p>Thsil yolunuzda siz kmk edck onlarla pekar snaq imtahanlarn burada tapa bilrsiniz.</p>
        </header>

        <div class="library-tabs">
          <div class="library-tab active" onclick="switchLibraryTab('public', this)">mumi testlr</div>
          <div class="library-tab" onclick="switchLibraryTab('private', this)">Mllimin testlri</div>
        </div>

        <div id="lib-public" class="sub-view active">

          <div class="library-controls">
            <div class="library-search-wrapper">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
              <input type="text" placeholder="Test axtar..." class="library-search-input" id="library-search">
            </div>

            <div class="library-categories">
              <button class="category-btn active">Hams</button>
              <button class="category-btn">Riyaziyyat</button>
              <button class="category-btn">Fizika</button>
              <button class="category-btn">Tarix</button>
              <button class="category-btn">Corafiya</button>
              <button class="category-btn">ngilis dili</button>
            </div>
          </div>

          <div class="library-grid-new" id="public-tests-grid">
            <!-- Card 1 -->
            <div class="lib-test-card" onclick="window.location.hash='#student-exam-room'">
              <div class="lib-test-card-top">
                <div class="lib-icon-box blue">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                </div>
                <div class="lib-difficulty easy">Asan</div>
              </div>
              <div class="lib-test-info">
                <h3>mumi Tarix Sna</h3>
                <div class="lib-test-meta">
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
                      <polyline points="14 2 14 8 20 8"></polyline>
                      <line x1="16" y1="13" x2="8" y2="13"></line>
                      <line x1="16" y1="17" x2="8" y2="17"></line>
                      <polyline points="10 9 9 9 8 9"></polyline>
                    </svg> 20 Sual</span>
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg> 30 dq</span>
                </div>
              </div>
              <div class="lib-test-footer">
                <div class="lib-teacher">
                  <div class="lib-teacher-btn">AM</div>
                  <div class="lib-teacher-name">A. Mmmdov</div>
                </div>
                <div class="btn-start-test">Bala </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="lib-test-card" onclick="window.location.hash='#student-exam-room'">
              <div class="lib-test-card-top">
                <div class="lib-icon-box orange">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="2" y1="12" x2="22" y2="12"></line>
                    <path
                      d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                    </path>
                  </svg>
                </div>
                <div class="lib-difficulty medium">Orta</div>
              </div>
              <div class="lib-test-info">
                <h3>Corafiya 9-cu sinif</h3>
                <div class="lib-test-meta">
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
                      <polyline points="14 2 14 8 20 8"></polyline>
                      <line x1="16" y1="13" x2="8" y2="13"></line>
                      <line x1="16" y1="17" x2="8" y2="17"></line>
                      <polyline points="10 9 9 9 8 9"></polyline>
                    </svg> 15 Sual</span>
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg> 25 dq</span>
                </div>
              </div>
              <div class="lib-test-footer">
                <div class="lib-teacher">
                  <div class="lib-teacher-btn">E</div>
                  <div class="lib-teacher-name">E. liyeva</div>
                </div>
                <div class="btn-start-test">Bala </div>
              </div>
            </div>

            <!-- Card 3 -->
            <div class="lib-test-card" onclick="window.location.hash='#student-exam-room'">
              <div class="lib-test-card-top">
                <div class="lib-icon-box purple">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                  </svg>
                </div>
                <div class="lib-difficulty hard">tin</div>
              </div>
              <div class="lib-test-info">
                <h3>Riyaziyyat - Funksiyalar</h3>
                <div class="lib-test-meta">
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
                      <polyline points="14 2 14 8 20 8"></polyline>
                      <line x1="16" y1="13" x2="8" y2="13"></line>
                      <line x1="16" y1="17" x2="8" y2="17"></line>
                      <polyline points="10 9 9 9 8 9"></polyline>
                    </svg> 10 Sual</span>
                  <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg> 20 dq</span>
                </div>
              </div>
              <div class="lib-test-footer">
                <div class="lib-teacher">
                  <div class="lib-teacher-btn">RS</div>
                  <div class="lib-teacher-name">R. Sabirli</div>
                </div>
                <div class="btn-start-test">Bala </div>
              </div>
            </div>
          </div>
        </div>

        <div id="lib-private" class="sub-view">
          <div class="results-empty">
            <div style="font-size: 48px; margin-bottom: 20px;"></div>
            <h3 style="margin-bottom: 8px; color: #1e293b;">Mxfi Blm</h3>
            <p style="margin-bottom: 24px;">Mllim trfindn veriln xsusi testlri grmk n kodu daxil
              etmlisiniz.</p>
            <button onclick="document.getElementById('modal-join').style.display='flex'" class="btn-hero blue"
              style="display:inline-block; padding: 12px 24px; font-size: 15px;">Kodu daxil et</button>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: STUDENT GOAL DETAILS -->
    <section id="student-goal-details" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Hftlik Hdf</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 900px;">
        <div class="goal-detail-header" style="position:relative; overflow:hidden;">
          <div style="position:relative; z-index:2;">
            <div class="flex-between" style="align-items:flex-start; margin-bottom:24px;">
              <div>
                <h1 style="font-size:42px; font-weight:800; margin-bottom:8px; line-height:1;">85%</h1>
                <p style="opacity:0.9; font-size:16px; max-width:300px;">ladr, Knan! Hdf atmaq n cmi 3 test
                  qalb.</p>
              </div>
              <div
                style="background:rgba(255,255,255,0.2); padding:12px 20px; border-radius:14px; font-size:14px; font-weight:600; backdrop-filter:blur(4px);">
                 Hdf: 20 Test / Hft
              </div>
            </div>
            <div style="height:12px; background:rgba(255,255,255,0.2); border-radius:10px; overflow:hidden;">
              <div
                style="width:85%; height:100%; background:white; border-radius:10px; box-shadow: 0 0 20px rgba(255,255,255,0.4);">
              </div>
            </div>
          </div>
          <!-- Decorative background circles -->
          <div
            style="position:absolute; top:-50px; right:-50px; width:200px; height:200px; background:radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%); border-radius:50%;">
          </div>
        </div>

        <div class="grid-2" style="gap:24px; margin-bottom:24px;">
          <!-- Left Column -->
          <div style="display:flex; flex-direction:column; gap:24px;">
            <div class="chart-box">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
                <h3 style="margin:0;">Gndlik Aktivlik</h3>
                <span
                  style="font-size:13px; color:#16a34a; font-weight:600; background:#dcfce7; padding:4px 10px; border-radius:50px;">
                  4 gnlk silsil</span>
              </div>
              <div class="calendar-grid">
                <div class="calendar-day filled" title="Bazar">B</div>
                <div class="calendar-day filled" title="Bazar ertsi">B.E</div>
                <div class="calendar-day filled" title="rnb axam">.A</div>
                <div class="calendar-day filled" title="rnb"></div>
                <div class="calendar-day active" title="Cm axam (Bugn)">C.A</div>
                <div class="calendar-day" title="Cm">C</div>
                <div class="calendar-day" title="nb"></div>
              </div>
              <p style="margin-top:24px; font-size:14px; color:#64748b; line-height:1.6;">
                Siz bu hft n ox <b>rnb</b> gn aktiv olmusunuz (5 test). Sviyyniz artmaqdadr!
              </p>
            </div>

            <div class="chart-box">
              <h3 style="margin-bottom:24px;">Fnn zr Performans</h3>
              <div class="subject-performance-list">
                <div class="sub-perf-item clickable"
                  onclick="window.location.hash='#student-results'; openTestDetails(101)"
                  style="cursor:pointer; transition: transform 0.2s;">
                  <div
                    style="width:36px; height:36px; background:#eff6ff; color:#3b82f6; border-radius:10px; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
                    </div>
                  <div class="sub-perf-info">
                    <div class="sub-perf-name"><span>Riyaziyyat</span> <span>92%</span></div>
                    <div class="sub-perf-bar">
                      <div class="sub-perf-fill" style="width:92%; background:#3b82f6;"></div>
                    </div>
                  </div>
                </div>
                <div class="sub-perf-item clickable"
                  onclick="window.location.hash='#student-results'; openTestDetails(102)"
                  style="cursor:pointer; transition: transform 0.2s;">
                  <div
                    style="width:36px; height:36px; background:#fff7ed; color:#f97316; border-radius:10px; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
                    </div>
                  <div class="sub-perf-info">
                    <div class="sub-perf-name"><span>Fizika</span> <span>78%</span></div>
                    <div class="sub-perf-bar">
                      <div class="sub-perf-fill" style="width:78%; background:#f97316;"></div>
                    </div>
                  </div>
                </div>
                <div class="sub-perf-item clickable"
                  onclick="window.location.hash='#student-results'; openTestDetails(103)"
                  style="cursor:pointer; transition: transform 0.2s;">
                  <div
                    style="width:36px; height:36px; background:#f0fdf4; color:#22c55e; border-radius:10px; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
                    </div>
                  <div class="sub-perf-info">
                    <div class="sub-perf-name"><span>Kimya</span> <span>65%</span></div>
                    <div class="sub-perf-bar">
                      <div class="sub-perf-fill" style="width:65%; background:#22c55e;"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div style="display:flex; flex-direction:column; gap:24px;">
            <div class="insight-card">
              <h4 style="margin:0 0 16px 0; color:#1e293b; font-size:16px;">Hftlik Xlas</h4>
              <div style="display:flex; flex-direction:column; gap:12px;">
                <div class="w-stat-item" style="background:#f0f9ff; border:1px solid #e0f2fe;">
                  <div class="w-stat-label" style="color:#0369a1;">Ortalama Bal</div>
                  <div class="w-stat-value" style="color:#0369a1;">785</div>
                </div>
                <div class="w-stat-item" style="background:#f5f3ff; border:1px solid #ede9fe;">
                  <div class="w-stat-label" style="color:#6d28d9;">yrnm Vaxt</div>
                  <div class="w-stat-value" style="color:#6d28d9;">4s 20d</div>
                </div>
                <div class="w-stat-item" style="background:#fefce8; border:1px solid #fef9c3;">
                  <div class="w-stat-label" style="color:#854d0e;">Dzgn Cavab</div>
                  <div class="w-stat-value" style="color:#854d0e;">142 / 180</div>
                </div>
              </div>
            </div>

            <div class="chart-box"
              style="background:linear-gradient(to bottom, #ffffff, #f8fafc); border:1px solid #e2e8f0;">
              <div style="font-size:32px; margin-bottom:12px;"></div>
              <h4 style="font-size:15px; color:#1e293b; margin-bottom:12px;">Zfr Yolu</h4>
              <p style="font-size:13px; color:#64748b; line-height:1.6; margin-bottom:16px;">
                Kimya fnnindn 2 test daha etsniz, <b>"Kimya Ustas"</b> niann qazanacaqsnz!
              </p>
              <a href="#student-generate" class="btn-nav outline"
                style="width:100%; text-align:center; padding:10px; font-size:13px;">Test Bala</a>
            </div>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: STUDENT COMPLETION DETAILS -->
    <section id="student-completion-details" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Tamamlanm Testlr</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 800px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:32px;">
          <h2 style="font-size:24px; font-weight:700;">Son Testlriniz</h2>
          <div style="color:#64748b; font-size:14px;">Cmi: 12 test</div>
        </div>

        <div class="completion-list">
          <div class="completion-item">
            <div style="display:flex; gap:16px; align-items:center;">
              <div
                style="width:40px; height:40px; background:#dcfce7; color:#16a34a; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700;">
                92%</div>
              <div>
                <div style="font-weight:600; color:#1e293b;">Riyaziyyat - Snaq 1</div>
                <div style="font-size:12px; color:#94a3b8;">Bugn, 14:30</div>
              </div>
            </div>
            <a href="#student-results" class="btn-nav outline" style="padding:6px 14px; font-size:12px;">Analiz</a>
          </div>
          <div class="completion-item">
            <div style="display:flex; gap:16px; align-items:center;">
              <div
                style="width:40px; height:40px; background:#fef9c3; color:#ca8a04; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700;">
                75%</div>
              <div>
                <div style="font-weight:600; color:#1e293b;">Fizika - Mvzu Sna</div>
                <div style="font-size:12px; color:#94a3b8;">Dnn, 10:15</div>
              </div>
            </div>
            <a href="#student-results" class="btn-nav outline" style="padding:6px 14px; font-size:12px;">Analiz</a>
          </div>
          <div class="completion-item">
            <div style="display:flex; gap:16px; align-items:center;">
              <div
                style="width:40px; height:40px; background:#fef9c3; color:#ca8a04; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700;">
                68%</div>
              <div>
                <div style="font-weight:600; color:#1e293b;">Kimya - Elementlr</div>
                <div style="font-size:12px; color:#94a3b8;">12 Fev, 16:45</div>
              </div>
            </div>
            <a href="#student-results" class="btn-nav outline" style="padding:6px 14px; font-size:12px;">Analiz</a>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: STUDENT RESULT DETAIL BURAXILIS -->
    <section id="student-result-detail-buraxilis" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Buraxl Nticlri</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 800px;">
        <div class="goal-detail-header" style="background: linear-gradient(135deg, #0f172a, #1e293b);">
          <div class="flex-between">
            <div>
              <div class="exam-card-type" style="color:rgba(255,255,255,0.6)">Yekun Bal</div>
              <h1 style="font-size:48px; font-weight:800; margin:0;">245 <span
                  style="font-size:20px; opacity:0.6; font-weight:500;">/ 300</span></h1>
            </div>
            <div style="text-align:right;">
              <div style="font-size:14px; opacity:0.8; margin-bottom:4px;">Faiz drcsi</div>
              <div style="font-size:24px; font-weight:700;">81.6%</div>
            </div>
          </div>
        </div>

        <div class="grid-3" style="gap:20px; margin-bottom:32px;">
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              Azrbaycan dili</div>
            <div style="font-size:28px; font-weight:800; color:#1e293b;">82 <span
                style="font-size:14px; color:#94a3b8;">/ 100</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:82%"></div>
            </div>
          </div>
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              Riyaziyyat</div>
            <div style="font-size:28px; font-weight:800; color:#1e293b;">93 <span
                style="font-size:14px; color:#94a3b8;">/ 100</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:93%; background:#16a34a;"></div>
            </div>
          </div>
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              ngilis dili</div>
            <div style="font-size:28px; font-weight:800; color:#1e293b;">70 <span
                style="font-size:14px; color:#94a3b8;">/ 100</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:70%; background:#f59e0b;"></div>
            </div>
          </div>
        </div>

        <div class="chart-box">
          <h3 style="margin-bottom:20px;">Snaq Tarixsi</h3>
          <div class="completion-list">
            <div class="completion-item clickable"
              onclick="window.location.hash='#student-results'; openTestDetails(101)">
              <div style="font-weight:600;">Yanvar Sna</div>
              <div style="display:flex; gap:20px; align-items:center;">
                <div style="text-align:right;">
                  <div style="font-size:11px; color:#94a3b8;">mumi</div>
                  <div style="font-weight:700; color:#1e293b;">245</div>
                </div>
                <div style="width:1px; height:24px; background:#e2e8f0;"></div>
                <div
                  style="padding:4px 10px; border-radius:6px; background:#f0fdf4; color:#16a34a; font-size:12px; font-weight:700;">
                  Yax</div>
              </div>
            </div>
            <div class="completion-item clickable"
              onclick="window.location.hash='#student-results'; openTestDetails(101)">
              <div style="font-weight:600;">Dekabr Sna</div>
              <div style="display:flex; gap:20px; align-items:center;">
                <div style="text-align:right;">
                  <div style="font-size:11px; color:#94a3b8;">mumi</div>
                  <div style="font-weight:700; color:#1e293b;">232</div>
                </div>
                <div style="width:1px; height:24px; background:#e2e8f0;"></div>
                <div
                  style="padding:4px 10px; border-radius:6px; background:#f0fdf4; color:#16a34a; font-size:12px; font-weight:700;">
                  Yax</div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </section>

    <!-- VIEW: STUDENT RESULT DETAIL BLOK -->
    <section id="student-result-detail-blok" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#student-dashboard" class="logo"> <span style="font-weight:400">Geri</span></a>
          <div class="logo">Blok Nticlri</div>
          <div style="width:20px"></div>
        </div>
      </nav>
      <main class="student-dashboard-main" style="max-width: 800px;">
        <div class="goal-detail-header" style="background: linear-gradient(135deg, #f97316, #ea580c);">
          <div class="flex-between">
            <div>
              <div class="exam-card-type" style="color:rgba(255,255,255,0.6)">xtisas Bal</div>
              <h1 style="font-size:48px; font-weight:800; margin:0;">312 <span
                  style="font-size:20px; opacity:0.6; font-weight:500;">/ 400</span></h1>
            </div>
            <div style="text-align:right;">
              <div style="font-size:14px; opacity:0.8; margin-bottom:4px;">Qrup zr faiz</div>
              <div style="font-size:24px; font-weight:700;">78%</div>
            </div>
          </div>
        </div>
        <div class="grid-3" style="gap:20px; margin-bottom:32px;">
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              Riyaziyyat</div>
            <div style="font-size:24px; font-weight:800; color:#1e293b;">128 <span
                style="font-size:14px; color:#94a3b8;">/ 150</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:85%; background:#3b82f6;"></div>
            </div>
          </div>
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              Fizika</div>
            <div style="font-size:24px; font-weight:800; color:#1e293b;">110 <span
                style="font-size:14px; color:#94a3b8;">/ 150</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:73%; background:#f97316;"></div>
            </div>
          </div>
          <div class="insight-card clickable" onclick="window.location.hash='#student-results'; openTestDetails(101)"
            style="text-align:center;">
            <div style="font-size:12px; color:#64748b; font-weight:700; margin-bottom:8px; text-transform:uppercase;">
              Kimya</div>
            <div style="font-size:24px; font-weight:800; color:#1e293b;">74 <span
                style="font-size:14px; color:#94a3b8;">/ 100</span></div>
            <div class="exam-progress-bg" style="margin-top:12px;">
              <div class="exam-progress-fill" style="width:74%; background:#a855f7;"></div>
            </div>
          </div>
        </div>
        <div class="insight-card" style="border: 1px dashed #3b82f6; background: #eff6ff; margin-bottom: 32px;">
          <h4 style="margin:0 0 8px 0; color:#1e40af;">Qrup Analizi</h4>
          <p style="font-size:14px; color:#1e40af; line-height:1.5;">Hdfimiz olan ixtisaslar zr performansnz
            ykskdir. <b>Bak Dvlt Universiteti</b> n ansnz 85%-dir.</p>
        </div>
        <div class="chart-box">
          <h3 style="margin-bottom:20px;">Snaq Tarixsi</h3>
          <div class="completion-list">
            <div class="completion-item clickable"
              onclick="window.location.hash='#student-results'; openTestDetails(101)">
              <div style="font-weight:600;">Yanvar Blok Sna</div>
              <div style="display:flex; gap:20px; align-items:center;">
                <div style="text-align:right;">
                  <div style="font-size:11px; color:#94a3b8;">Bal</div>
                  <div style="font-weight:700; color:#1e293b;">312</div>
                </div>
                <div
                  style="padding:4px 10px; border-radius:6px; background:#f0fdf4; color:#16a34a; font-size:12px; font-weight:700;">
                  Uurlu</div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </section>
    <!-- VIEW: LANDING -->
    <section id="landing" class="view">
      <nav class="landing-nav">
        <div class="landing-nav-inner">
          <a href="#" class="logo">AI Test <span>Maker</span></a>
          <div class="nav-buttons">
            <a href="#login" class="btn-nav outline">Giri et</a>
            <a href="#signup" class="btn-nav fill">Qeydiyyatdan ke</a>
          </div>
        </div>
      </nav>

      <header class="hero">
        <div class="hero-inner">
          <span class="hero-badge"> Srtl v asanlqla</span>
          <h1>Tdrisi <span>asanladran</span> platforma</h1>
          <p>
            AI Test Maker mllimlr test yaratmaqda kmk edir, agirdlr is imtahanlar rahat hll etmk imkan
            verir.
            Testlri bir ne saniyd yaradn, nticlri avtomatik ld edin.
          </p>
          <div class="hero-buttons">
            <a href="#signup" class="btn-hero blue">Pulsuz bala</a>
            <a href="#login" class="btn-hero outline-blue">Giri et</a>
          </div>
        </div>
      </header>

      <section class="section teacher-section">
        <div class="section-header">
          <h2>Mllimlr n</h2>
          <p>AI il test yaratma srtlndirin, nticlri bir yer toplayn v agirdlrin gediatn izlyin.</p>
        </div>
        <div class="features-grid">
          <a href="#teacher-create-test" class="feature-card blue"
            style="text-decoration: none; color: inherit; display: block;">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h9" />
                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" />
              </svg>
            </div>
            <h3>Test yaradn</h3>
            <p>AI kmyi il suallar avtomatik generasiya olunur. Fnn, sinif v tinlik sviyysini sein.</p>
          </a>
          <div class="feature-card blue">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3" />
                <circle cx="6" cy="12" r="3" />
                <circle cx="18" cy="19" r="3" />
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
              </svg>
            </div>
            <h3>Link paylan</h3>
            <p>Testi yaratdqdan sonra unikal link ld edin. agirdlr link kerk drhal imtahan ver bilr.</p>
          </div>
          <a href="#neticeler" class="feature-card blue" style="text-decoration: none; color: inherit; display: block;">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                <polyline points="14 2 14 8 20 8" />
                <path d="M12 18v-6" />
                <path d="M8 15h8" />
              </svg>
            </div>
            <h3>Nticlr v analiz</h3>
            <p>Btn cavablar bir yerd. Statistika, qiymtlr v trafl hesabatlar avtomatik hazrlanr.</p>
          </a>
        </div>
      </section>

      <section class="section student-section">
        <div class="section-header">
          <h2>agirdlr n</h2>
          <p>Telefon v ya kompterdn rahat imtahan verin, cavablar drhal grn v nticlrinizi izlyin.</p>
          <div style="text-align: center; margin-top: 24px;">
            <a href="#student-dashboard" class="btn-hero orange">agird panelin ke </a>
          </div>
        </div>
        <div class="features-grid">
          <div class="feature-card orange">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2" />
                <path d="M12 18h.01" />
              </svg>
            </div>
            <h3>stniln cihazdan</h3>
            <p>Telefon, planet v ya kompter  testlri hr yerd, rahat kild hll edin.</p>
          </div>
          <div class="feature-card orange">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10" />
                <polyline points="12 6 12 12 16 14" />
              </svg>
            </div>
            <h3>Vaxt limiti</h3>
            <p>Mllimin tyin etdiyi mddt rzind imtahan verin. Vaxtn nec kediyini real vaxtda grn.</p>
          </div>
          <div class="feature-card orange">
            <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
              </svg>
            </div>
            <h3>Annda ntic</h3>
            <p>mtahan bitdikdn sonra drhal qiymtinizi v trafl cavablar grn.</p>
          </div>
        </div>
      </section>

      <section class="cta-section">
        <div class="cta-box">
          <h2>Bu gn balayn</h2>
          <p>Mllim v ya agird olun  AI Test Maker sizin n hazrdr. Bir ne saniy rzind qeydiyyatdan kein.
          </p>
          <div class="cta-buttons">
            <a href="#signup" class="btn-cta white">Qeydiyyatdan ke</a>
            <a href="#teacher-create-test" class="btn-cta outline">Yeni Test Yarat</a>
          </div>
        </div>
      </section>

      <footer class="landing-footer">
         2026 AI Test Maker  Tdrisi daha asan edirik
      </footer>
    </section>
  </div>
  <script>
    // --- Centralized Application Data ---
    const APP_DATA = {
      fennLabels: {
        riyaziyyat: 'Riyaziyyat',
        fizika: 'Fizika',
        kimya: 'Kimya',
        biologiya: 'Biologiya',
        'azerbaycan-dili': 'Azrbaycan dili',
        'ingilis-dili': 'ngilis dili',
        tarix: 'Tarix',
        cografiya: 'Corafiya'
      },
      cetinlikLabels: { asan: 'Asan', orta: 'Orta', cetin: 'tin' },
      subjects: [
        { id: 'riyaziyyat', name: 'Riyaziyyat', icon: '', value: 'riyaziyyat', label: 'Riyaziyyat' },
        { id: 'fizika', name: 'Fizika', icon: '', value: 'fizika', label: 'Fizika' },
        { id: 'kimya', name: 'Kimya', icon: '', value: 'kimya', label: 'Kimya' },
        { id: 'biologiya', name: 'Biologiya', icon: '', value: 'biologiya', label: 'Biologiya' },
        { id: 'azerbaycan-dili', name: 'Azrbaycan dili', icon: '', value: 'azerbaycan-dili', label: 'Azrbaycan dili' },
        { id: 'ingilis-dili', name: 'ngilis dili', icon: '', value: 'ingilis-dili', label: 'ngilis dili' },
        { id: 'tarix', name: 'Tarix', icon: '', value: 'tarix', label: 'Tarix' },
        { id: 'cografiya', name: 'Corafiya', icon: '', value: 'cografiya', label: 'Corafiya' }
      ]
    };

    // --- Student Logic ---

    // 1. Join Exam Logic (Legacy & New Minimal)
    var btnSubmitCode = document.getElementById('btn-submit-code');
    if (btnSubmitCode) {
      btnSubmitCode.addEventListener('click', function () {
        var input = document.getElementById('exam-code-input');
        if (input && input.value.length === 6) {
          document.getElementById('modal-join').style.display = 'none';
          window.location.hash = '#student-exam-room';
          startMockExam('Kod: ' + input.value);
          input.value = ''; // Reset
        } else {
          alert('Kod 6 rqmli olmaldr!');
        }
      });
    }

    var btnQuickJoin = document.getElementById('btn-quick-join');
    if (btnQuickJoin) {
      btnQuickJoin.addEventListener('click', function () {
        var input = document.getElementById('quick-exam-code');
        if (input && input.value.length === 6) {
          window.location.hash = '#student-exam-room';
          startMockExam('Kod: ' + input.value);
          input.value = '';
        } else {
          alert('Zhmt olmasa 6 rqmli kodu dzgn daxil edin.');
        }
      });
    }

    // 2. Student Generator
    var btnStudentGen = document.getElementById('btn-student-gen');
    if (btnStudentGen) {
      btnStudentGen.addEventListener('click', function () {
        var topic = document.getElementById('student-topic').value;
        var fenInputVal = document.getElementById('student-fen-input').value;
        var fenHidden = document.getElementById('student-fen-hidden').value;

        if (!fenInputVal) { alert('Zhmt olmasa fnn sein'); return; }

        window.location.hash = '#student-exam-room';
        startMockExam(fenInputVal + (topic ? ': ' + topic : ''));
      });
    }

    // 2.1 Student Searchable Select Logic
    (function () {
      var fenInput = document.getElementById('student-fen-input');
      var fenDropdown = document.getElementById('student-fen-dropdown');
      var fenHidden = document.getElementById('student-fen-hidden');

      function renderSubjects(filter = '') {
        var filtered = APP_DATA.subjects.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()));
        fenDropdown.innerHTML = '';
        filtered.forEach(s => {
          var opt = document.createElement('div');
          opt.className = 'search-option';
          opt.innerHTML = '<span style="margin-right:8px">' + s.icon + '</span>' + s.name;
          opt.onclick = function () {
            fenInput.value = s.name;
            fenHidden.value = s.id;
            fenDropdown.classList.remove('visible');
          };
          fenDropdown.appendChild(opt);
        });
        if (filtered.length > 0) fenDropdown.classList.add('visible');
        else fenDropdown.classList.remove('visible');
      }

      if (fenInput) {
        fenInput.addEventListener('focus', function () { renderSubjects(fenInput.value); });
        fenInput.addEventListener('input', function (e) { renderSubjects(e.target.value); });
        document.addEventListener('click', function (e) {
          if (!e.target.closest('.searchable-select')) {
            fenDropdown.classList.remove('visible');
          }
        });
      }
    })();

    // 3. Mock Exam functions
    function startMockExam(titleText) {
      var title = document.getElementById('active-exam-title');
      var container = document.getElementById('exam-questions-container');
      var timer = document.getElementById('exam-timer');

      if (title) title.innerText = titleText;

      // Mock loading
      container.innerHTML = '<div class="generating-state visible"><span class="spinner"></span> Suallar hazrlanr...</div>';

      setTimeout(function () {
        var mockQs = [
          { q: 'Sual 1: Aadaklardan hans dzgndr?', a: ['Variant A', 'Variant B', 'Variant C', 'Variant D'] },
          { q: 'Sual 2: Bu mslnin hlli ndir?', a: ['12', '45', '90', '0'] },
          { q: 'Sual 3: Triflrdn hans shvdir?', a: ['Trif 1', 'Trif 2', 'Trif 3', 'Trif 4'] }
        ];

        var html = '';
        mockQs.forEach(function (mq, i) {
          html += '<div class="question-card" style="animation:slideUpFade 0.3s ease forwards; animation-delay:' + (i * 0.1) + 's">';
          html += '<div class="q-num">Sual ' + (i + 1) + '</div>';
          html += '<div class="q-text">' + mq.q + '</div>';
          html += '<div class="q-options">';
          mq.a.forEach(function (opt) {
            html += '<label class="role-option" style="display:block; margin-bottom:8px; cursor:pointer"><input type="radio" name="q' + i + '" style="margin-right:8px"> ' + opt + '</label>';
          });
          html += '</div></div>';
        });
        container.innerHTML = html;

        // Reset timer logic (mock)
        timer.innerText = "30:00";
      }, 1500);
    }

    // 4. Finish Exam
    var btnFinish = document.getElementById('btn-finish-exam');
    if (btnFinish) {
      btnFinish.addEventListener('click', function () {
        if (confirm('mtahan bitirmk istyirsiniz?')) {
          // Mock finishing process
          window.scrollTo(0, 0);
          document.getElementById('exam-questions-container').innerHTML = '<div class="generating-state visible"><span class="spinner"></span> Nticlr hesablanr...</div>';

          setTimeout(function () {
            // Navigate to results
            window.location.hash = '#student-results';

            // Show detailed analysis immediately
            // We need to wait a tiny bit for the view to switch if using hash change logic, 
            // but since all views are in one file, we can just manipulate the DOM.

            // Reset dashboard view state first to ensure clean slate
            document.getElementById('analytics-dashboard').classList.remove('hidden-view');
            document.getElementById('test-analysis-view').classList.add('hidden-view');

            // Now simulate clicking on the "latest" result
            setTimeout(function () {
              // Add a mock "Latest" exam to history
              var newExam = { id: 999, subject: 'Riyaziyyat', title: 'Yeni Snaq (ndi)', date: 'ndi', items: 15, score: 88, status: 'good' };
              mockExamHistory.unshift(newExam);
              renderExamHistory();

              // Open it
              openTestDetails(999);
            }, 100);
          }, 1500);
        }
      });
    }

    // 5. Library Tabs Global Function
    window.switchLibraryTab = function (type, el) {
      document.querySelectorAll('.library-tab').forEach(t => t.classList.remove('active'));
      el.classList.add('active');

      document.getElementById('lib-public').style.display = 'none';
      document.getElementById('lib-private').style.display = 'none';

      if (type === 'public') document.getElementById('lib-public').style.display = 'block';
      else document.getElementById('lib-private').style.display = 'block';
    };

    // 6. Library Search & Filter Logic
    var libSearch = document.getElementById('library-search');
    if (libSearch) {
      libSearch.addEventListener('input', function (e) {
        var term = e.target.value.toLowerCase();
        var cards = document.querySelectorAll('.lib-test-card');
        cards.forEach(function (card) {
          var title = card.querySelector('h3').innerText.toLowerCase();
          if (title.includes(term)) {
            card.style.display = 'flex';
          } else {
            card.style.display = 'none';
          }
        });
      });
    }

    var categoryBtns = document.querySelectorAll('.category-btn');
    categoryBtns.forEach(function (btn) {
      btn.addEventListener('click', function () {
        categoryBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        var cat = btn.innerText;

        var cards = document.querySelectorAll('.lib-test-card');
        cards.forEach(function (card) {
          if (cat === 'Hams') {
            card.style.display = 'flex';
          } else {
            var title = card.querySelector('h3').innerText;
            if (title.includes(cat)) {
              card.style.display = 'flex';
            } else {
              card.style.display = 'none';
            }
          }
        });
      });
    });

    // --- Analytics Dashboard Logic ---
    var mockExamHistory = [
      { id: 101, subject: 'Riyaziyyat', title: 'Snaq 1', date: '10 Fev 2026', items: 15, score: 92, status: 'good' },
      { id: 102, subject: 'Fizika', title: 'Mvzu Sna', date: '08 Fev 2026', items: 20, score: 75, status: 'medium' },
      { id: 103, subject: 'Kimya', title: 'Buraxl Modeli', date: '05 Fev 2026', items: 25, score: 64, status: 'medium' },
      { id: 104, subject: 'Tarix', title: 'Dvlt mtahan', date: '01 Fev 2026', items: 30, score: 45, status: 'low' }
    ];

    function renderExamHistory() {
      var list = document.getElementById('student-results-list');
      if (!list) return;

      var html = '';
      mockExamHistory.forEach(function (exam) {
        var colorClass = exam.status === 'good' ? '#16a34a' : (exam.status === 'medium' ? '#ca8a04' : '#dc2626');
        var bgClass = exam.status === 'good' ? 'rgba(22, 163, 74, 0.1)' : (exam.status === 'medium' ? 'rgba(234, 179, 8, 0.1)' : 'rgba(220, 38, 38, 0.1)');

        html += '<div class="result-row" onclick="openTestDetails(' + exam.id + ')" style="cursor:pointer">';
        html += '<div>';
        html += '<div class="student-name">' + exam.title + '</div>';
        html += '<div class="result-meta">' + exam.subject + '  ' + exam.date + '  ' + exam.items + ' sual</div>';
        html += '</div>';
        html += '<span class="result-score" style="color:' + colorClass + '; background:' + bgClass + '">' + exam.score + '% <span style="font-size:12px; margin-left:4px">Kf et </span></span>';
        html += '</div>';
      });
      list.innerHTML = html;
    }

    // Auto-run render
    renderExamHistory();

    // Open Detail View
    window.openTestDetails = function (id) {
      document.getElementById('analytics-dashboard').classList.add('hidden-view');
      document.getElementById('test-analysis-view').classList.remove('hidden-view');

      // Find exam details
      var exam = mockExamHistory.find(e => e.id === id);
      if (exam) {
        // Update Header Mock Content
        document.querySelector('.review-header h2').innerText = exam.title;
        document.querySelector('.review-header p').innerText = exam.date + '  ' + exam.subject;
        document.querySelector('.review-stat .v').innerText = exam.score + '%';
      }

      renderQuestionAnalysis();
      window.scrollTo(0, 0);
    };

    // Back to Dashboard
    var btnBackAnalytics = document.getElementById('btn-back-analytics');
    if (btnBackAnalytics) {
      btnBackAnalytics.addEventListener('click', function () {
        document.getElementById('test-analysis-view').classList.add('hidden-view');
        document.getElementById('analytics-dashboard').classList.remove('hidden-view');
      });
    }

    window.filterAnalysis = function (type) {
      var wrongBtn = document.getElementById('filter-wrong');
      var allBtn = document.getElementById('filter-all');

      if (type === 'wrong') {
        wrongBtn.style.background = '#dc2626';
        wrongBtn.style.color = 'white';
        allBtn.style.background = '#f1f5f9';
        allBtn.style.color = '#475569';
      } else {
        allBtn.style.background = '#3b82f6';
        allBtn.style.color = 'white';
        wrongBtn.style.background = '#f1f5f9';
        wrongBtn.style.color = '#475569';
      }
      renderQuestionAnalysis(type);
    };

    function renderQuestionAnalysis(filter = 'all') {
      var container = document.getElementById('review-questions-list');
      if (!container) return;

      var mockQuestions = [
        { text: 'Kvadrat tnliyin kklri cmi nedir? x - 5x + 6 = 0', sAns: '5', cAns: '5', isCorrect: true, time: '45s', diff: 'Asan' },
        { text: 'Hans fiziki kmiyyt vektorialdr?', sAns: 'Ktl', cAns: 'Qvv', isCorrect: false, time: '12s', diff: 'Orta', explain: 'Ktl skalyardr, qvv is istiqamti olan vektorial kmiyytdir.' },
        { text: 'Nyutonun ikinci qanunu hansdr?', sAns: 'F = ma', cAns: 'F = ma', isCorrect: true, time: '1m 20s', diff: 'Medium' },
        { text: 'q srti boluqda n qdrdir?', sAns: '300,000 km/s', cAns: '300,000 km/s', isCorrect: true, time: '2m 40s', diff: 'Hard', timeWarn: true },
        { text: 'H2SO4 turusunun ad ndir?', sAns: 'Xlorid', cAns: 'Sulfat', isCorrect: false, time: '8s', diff: 'En Easy', explain: 'H2SO4 sulfat turusudur. HCl xloriddir.' }
      ];

      var filtered = mockQuestions;
      if (filter === 'wrong') {
        filtered = mockQuestions.filter(q => !q.isCorrect);
      }

      var html = '';
      filtered.forEach(function (q, i) {
        var statusClass = q.isCorrect ? 'correct' : 'wrong';
        var diffClass = q.diff === 'Asan' ? 'easy' : (q.diff === 'Orta' ? 'medium' : 'hard');
        var timeClass = q.timeWarn ? 'time-crit' : 'time-ok';
        var timeLabel = q.timeWarn ? 'ox Vaxt' : 'Normal';

        html += '<div class="review-card ' + statusClass + '">';
        html += '<div class="q-meta-badges">';
        html += '<span class="badge ' + diffClass + '">' + q.diff + '</span>';
        html += '<span class="badge ' + timeClass + '"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" style="margin-right:2px; vertical-align:middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ' + q.time + ' (' + timeLabel + ')</span>';
        html += '</div>';

        html += '<div style="font-weight:600; margin-bottom:12px; font-size:16px;">' + (i + 1) + '. ' + q.text + '</div>';

        html += '<div style="display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-bottom:12px;">';

        if (q.isCorrect) {
          html += '<div style="grid-column: 1 / -1; background:#f0fdf4; border:1px solid #bbf7d0; padding:12px; border-radius:8px; color:#15803d; font-weight:500;"> Sizin cavab: ' + q.sAns + ' (Dzgn)</div>';
        } else {
          html += '<div style="background:#fef2f2; border:1px solid #fecaca; padding:12px; border-radius:8px; color:#b91c1c; font-weight:500;"> Sizin cavab: ' + q.sAns + '</div>';
          html += '<div style="background:#f0fdf4; border:1px solid #bbf7d0; padding:12px; border-radius:8px; color:#15803d; font-weight:500;"> Dzgn cavab: ' + q.cAns + '</div>';
        }

        html += '</div>';

        if (!q.isCorrect && q.explain) {
          html += '<div class="q-explanation"><b>zah:</b> ' + q.explain + '</div>';
        }

        html += '</div>';
      });
      container.innerHTML = html;
    }

    // --- Manual Test Builder Logic ---
    (function () {
      var state = {
        subject: '',
        grade: '',
        time: 45,
        title: '',
        questions: []
      };

      // UI Selectors
      var stgSettings = document.getElementById('teacher-test-settings-stage');
      var stgBuilder = document.getElementById('teacher-test-builder-stage');
      var stgPublish = document.getElementById('teacher-test-publish-stage');

      var fenInput = document.getElementById('builder-fen-input');
      var fenDropdown = document.getElementById('builder-fen-dropdown');
      var fenHidden = document.getElementById('builder-fen');
      var fenContainer = document.getElementById('builder-fen-container');

      var btnStart = document.getElementById('btn-start-builder');
      var btnAddQ = document.getElementById('btn-add-question');
      var btnBack = document.getElementById('btn-builder-back');
      var btnPublish = document.getElementById('btn-builder-publish');

      var qList = document.getElementById('builder-questions-list');
      var metaTitle = document.getElementById('builder-meta-title');
      var metaDesc = document.getElementById('builder-meta-desc');

      // Searchable Select Setup
      function renderOptions(filter) {
        if (!fenDropdown) return;
        var term = (filter || '').toLowerCase();
        var filtered = APP_DATA.subjects.filter(s => s.label.toLowerCase().includes(term));
        fenDropdown.innerHTML = '';
        filtered.forEach(s => {
          var opt = document.createElement('div');
          opt.className = 'select-option' + (fenHidden.value === s.value ? ' selected' : '');
          opt.innerHTML = `<span class="opt-icon">${s.icon}</span><span class="opt-label">${s.label}</span>`;
          opt.onclick = () => {
            fenInput.value = s.label;
            fenHidden.value = s.value;
            fenDropdown.classList.remove('visible');
            fenContainer.classList.remove('open');
          };
          fenDropdown.appendChild(opt);
        });
      }

      if (fenInput) {
        fenInput.onfocus = () => { renderOptions(fenInput.value); fenDropdown.classList.add('visible'); fenContainer.classList.add('open'); };
        fenInput.oninput = (e) => renderOptions(e.target.value);
      }

      // Builder Logic
      btnStart.onclick = () => {
        state.subject = fenHidden.value;
        state.grade = document.getElementById('builder-sinif').value;
        state.time = document.getElementById('builder-vaxt').value;
        state.title = document.getElementById('builder-title').value;

        if (!state.subject || !state.grade || !state.title) {
          alert('Zhmt olmasa btn sahlri doldurun.');
          return;
        }

        metaTitle.textContent = state.title;
        metaDesc.textContent = `${APP_DATA.fennLabels[state.subject]}  ${state.grade}-cu sinif  ${state.time} dq`;

        stgSettings.style.display = 'none';
        stgBuilder.style.display = 'block';

        if (state.questions.length === 0) addQuestion();
        renderQuestions();
      };

      btnBack.onclick = () => {
        stgBuilder.style.display = 'none';
        stgSettings.style.display = 'block';
      };

      function addQuestion() {
        state.questions.push({
          text: '',
          options: ['', '', '', ''],
          correct: 0
        });
        renderQuestions();
      }

      btnAddQ.onclick = addQuestion;

      function renderQuestions() {
        qList.innerHTML = '';
        state.questions.forEach((q, qIndex) => {
          var item = document.createElement('div');
          item.className = 'builder-question-item';

          var html = `
              <div class="builder-q-header">
                <div class="builder-q-num">Sual ${qIndex + 1}</div>
                <div class="builder-actions">
                  <button class="action-btn-mini" onclick="moveQ(${qIndex}, -1)" title="Yuxar"></button>
                  <button class="action-btn-mini" onclick="moveQ(${qIndex}, 1)" title="Aa"></button>
                  <button class="action-btn-mini delete" onclick="deleteQ(${qIndex})" title="Sil"></button>
                </div>
              </div>
              <div class="form-group" style="margin-bottom:24px;">
                <textarea class="builder-input" placeholder="Sualn mtnini daxil edin..." 
                  style="min-height:100px; resize:vertical; font-weight:500;" 
                  oninput="updateQ(${qIndex}, 'text', this.value)">${q.text}</textarea>
              </div>
              <div class="options-container">
                ${q.options.map((opt, oIndex) => `
                  <div class="builder-option-row ${q.correct === oIndex ? 'is-correct' : ''}" id="q${qIndex}_opt${oIndex}_row">
                    <div class="correct-checkbox-wrapper">
                      <input type="radio" name="q${qIndex}_correct" class="correct-checkbox" 
                        ${q.correct === oIndex ? 'checked' : ''} 
                        onchange="updateQ(${qIndex}, 'correct', ${oIndex})">
                    </div>
                    <input type="text" class="builder-input" placeholder="Variant ${String.fromCharCode(65 + oIndex)}" 
                      value="${opt}" 
                      oninput="updateOpt(${qIndex}, ${oIndex}, this.value)">
                  </div>
                `).join('')}
              </div>
            `;
          item.innerHTML = html;
          qList.appendChild(item);
        });
      }

      window.updateQ = (index, field, value) => {
        state.questions[index][field] = value;
        if (field === 'correct') {
          // Visual feedback for correct answer change without full re-render
          for (var i = 0; i < 4; i++) {
            var row = document.getElementById(`q${index}_opt${i}_row`);
            if (row) {
              if (i === value) row.classList.add('is-correct');
              else row.classList.remove('is-correct');
            }
          }
        }
      };

      window.updateOpt = (qIndex, oIndex, value) => {
        state.questions[qIndex].options[oIndex] = value;
      };

      window.deleteQ = (index) => {
        if (state.questions.length > 1) {
          if (confirm('Bu sual silmk istdiyiniz minsiniz?')) {
            state.questions.splice(index, 1);
            renderQuestions();
          }
        } else {
          alert('n az 1 sual olmaldr.');
        }
      };

      window.moveQ = (index, dir) => {
        var newIndex = index + dir;
        if (newIndex >= 0 && newIndex < state.questions.length) {
          var temp = state.questions[index];
          state.questions[index] = state.questions[newIndex];
          state.questions[newIndex] = temp;
          renderQuestions();

          // Scroll to the moved item
          setTimeout(() => {
            var items = document.querySelectorAll('.builder-question-item');
            if (items[newIndex]) items[newIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 50);
        }
      };

      btnPublish.onclick = () => {
        // Validation
        var isValid = state.questions.every(q => q.text.trim() !== '' && q.options.every(o => o.trim() !== ''));
        if (!isValid) {
          alert('Zhmt olmasa btn suallar v variantlar doldurun.');
          return;
        }

        var code = Math.floor(100000 + Math.random() * 900000);
        document.getElementById('published-test-code').textContent = '#' + code;

        stgBuilder.style.display = 'none';
        stgPublish.style.display = 'block';

        // Reset state for next time
        state.questions = [];
      };
    })();
  </script>
  <script>
    // --- Advanced SPA Router ---
    (function () {
      var views = document.querySelectorAll('.view');

      function showView(viewId) {
        // Handle empty hash or explicit landing
        var targetId = viewId || 'landing';
        if (targetId === 'landing' || targetId === '') targetId = 'landing';

        var targetView = document.getElementById(targetId);

        // Final boundary: if target doesn't exist, go to landing
        if (!targetView) targetView = document.getElementById('landing');

        // Hide ALL views and remove active class
        views.forEach(function (v) {
          v.style.display = 'none';
          v.classList.remove('active-view');
        });

        // Show the target view
        if (targetView) {
          targetView.style.display = 'block';
          // Force layout reflow and add class for animation
          void targetView.offsetWidth;
          targetView.classList.add('active-view');

          // Sub-view cleanups for Student Dashboard
          if (targetId === 'student-results') {
            var dash = document.getElementById('analytics-dashboard');
            var analysis = document.getElementById('test-analysis-view');
            if (dash) dash.classList.remove('hidden-view');
            if (analysis) analysis.classList.add('hidden-view');
          }
        }

        window.scrollTo(0, 0);
      }

      function handleHash() {
        var hash = window.location.hash.substring(1);
        showView(hash);
      }

      window.addEventListener('hashchange', handleHash);
      window.addEventListener('load', handleHash);

      // Initialize routing immediately
      handleHash();

      // 10. Student Group Selector Logic
      var groupChips = document.querySelectorAll('.group-chip');
      var blokSubjects = document.querySelector('#student-dashboard .exam-card[href="#student-result-detail-blok"] span');
      var blokTag = document.querySelector('#student-dashboard .group-tag');

      var groupMapping = {
        'I Qrup': 'Riyaziyyat, Fizika, Kimya',
        'II Qrup': 'Riyaziyyat, Corafiya, Tarix',
        'III Qrup': 'Azrbaycan dili, Tarix, dbiyyat',
        'IV Qrup': 'Biologiya, Kimya, Fizika'
      };

      groupChips.forEach(function (chip) {
        chip.addEventListener('click', function () {
          groupChips.forEach(c => c.classList.remove('active'));
          chip.classList.add('active');
          var groupName = chip.innerText;
          if (blokSubjects) blokSubjects.innerText = groupMapping[groupName] || 'Riyaziyyat, Fizika, Kimya';
          if (blokTag) blokTag.innerText = groupName;

          // Update Detail View Title too
          var blokDetailTitle = document.querySelector('#student-result-detail-blok .logo:nth-child(2)');
          if (blokDetailTitle) blokDetailTitle.innerText = 'Blok Nticlri (' + groupName + ')';
        });
      });
    })();
  </script>
</body>

</html>